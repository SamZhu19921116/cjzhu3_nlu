#coding=utf-8
import json
import pandas as pd
import pickle
import os
import re

# {'rule':'(黑户|黑名单)','weight':15}
# {父节点：{子意图：[{子意图规则,子意图权重}]}}
# {'开场白_yB7b2E': {'口碑差_7a8Ax7': [], '没小孩-幼儿3-8岁_EAdQu1': [], '姓名_oRqvs2': [{'rule': '(汤建飞)', 'weight': '1'}, {'rule': '(汤建飞|建飞汤)', 'weight': '2'}]}}
class rule_engine():
    def __init__(self,to_file = None,json_obj = None):
        if to_file and os.path.exists(to_file):
            with open(to_file, 'rb') as f:
                self.intent_levels_rules_dict = pickle.load(f)
        elif to_file and not os.path.exists(to_file) and json_obj:
            self.to_file = to_file
            self.save_rules(to_file,json_obj)
        else:
            self.intent_levels_rules_dict = {}
            self.to_file = to_file

    def rules_update(self,json_obj):
        self.intent_levels_rules_dict = json_obj
        with open(self.to_file, 'wb') as f:
            pickle.dump(json_obj, f, pickle.HIGHEST_PROTOCOL)

    def save_rules(to_file,json_obj):
        with open(to_file, 'wb') as f:
            pickle.dump(json_obj, f, pickle.HIGHEST_PROTOCOL)
 
    def load_rules(to_file):
        with open(to_file, 'rb') as f:
            return pickle.load(f)

    def rule_parse(self, parent_node, query): #parent_node:开场白_yB7b2E
        query = clean(query)
        score_max = 0
        matcher_son_rule = ""
        prefix_matcher_list_max = 0
        matcher_son_node = ""
        #{'口碑差_7a8Ax7': [], '没小孩-幼儿3-8岁_EAdQu1': [], '姓名_oRqvs2': [{'rule': '(汤建飞)', 'weight': '1'}, {'rule': '(汤建飞|建飞汤)', 'weight': '2'}]}
        for son_node,rules in self.intent_levels_rules_dict[parent_node].items(): 
            for rule_dict in rules:
                rule = rule_dict['rule']
                weight = rule_dict['weight']
                matcher_bool,prefix_matcher_str_list,suffix_matcher_str_list,human_str_list,prefix_matcher_str_len = KeyWordMatcher(human_str = query,regex_str = rule)
                if matcher_bool:
                    score_current = (prefix_matcher_str_len + int(weight)) / len(query)
                else:
                    score_current = (prefix_matcher_str_len) / len(query)
                if prefix_matcher_str_len > prefix_matcher_list_max:
                    if score_current > score_max:
                        score_max = score_current
                        matcher_son_node = son_node
                        matcher_son_rule = rule
        score_max = min(1.0,score_max)
        return pd.DataFrame({"score":score_max,"hit_node":matcher_son_node,"match_query":matcher_son_rule},index = [0])

    # 通过正则算法过滤文本中的非法字符
    @staticmethod
    def clean(sent, sep='<'):
        sent = re.sub(r"[\s+\.\!\/_,$%^*(+\"\')]+|[+——()?【】“”！，。？、~@#￥%……&*（）]+","", sent)
        i = 0
        tmp = []
        while i < len(sent):
            if sent[i] != sep:
                tmp.append(sent[i])
                i += 1
            else:
                tmp.append(sent[i:i + 5])
                i += 5
        return "".join(tmp)

    # 机器人关键词匹配算法-反转匹配部分
    @staticmethod
    def KeyWordMatcherReverse(human_str,regex_str):
        regex_res = []
        regex_tmp = []
        keyword_hit_list = []
        keyword_hitchar_len = 0
        for regex_char in iter(regex_str):
            if regex_char == "(" or regex_char == ")" or regex_char == "|" or regex_char == "&":
                if len(regex_tmp) > 0:
                    if "".join(regex_tmp) in human_str:
                        regex_res.append("True")
                        keyword_hitchar_len += len(regex_tmp)
                        keyword_hit_list.append("".join(regex_tmp))
                    else:
                        regex_res.append("False")
                    regex_tmp.clear()
                regex_res.append(regex_char)
            else:
                regex_tmp.append(regex_char)

        if len(regex_tmp) > 0:
            if "".join(regex_tmp) in human_str:
                regex_res.append("True")
                keyword_hitchar_len += len(regex_tmp)
                keyword_hit_list.append("".join(regex_tmp))
            else:
                regex_res.append("False")
        return "".join(regex_res),set(keyword_hit_list),keyword_hitchar_len
    
    # 机器人关键词匹配算法-主函数部分
    @staticmethod
    def KeyWordMatcher(human_str,regex_str):
        split_str = regex_str.split("&~")
        if len(split_str) == 1:
            prefix_matcher_bool_str,prefix_matcher_str_list,prefix_matcher_str_len = KeyWordMatcherReverse(human_str=human_str,regex_str=split_str[0])
        elif len(split_str) == 2:
            prefix_matcher_bool_str,prefix_matcher_str_list,prefix_matcher_str_len = KeyWordMatcherReverse(human_str=human_str,regex_str=split_str[0])
            suffix_matcher_bool_str,suffix_matcher_str_list,suffix_matcher_str_len = KeyWordMatcherReverse(human_str=human_str,regex_str=split_str[1])
        else:
            raise TypeError("Regular Expression Error !")
        
        if len(split_str) == 1:
            return eval(prefix_matcher_bool_str),prefix_matcher_str_list,[],set(human_str),prefix_matcher_str_len
        else:
            return eval(prefix_matcher_bool_str+"&~"+suffix_matcher_bool_str),prefix_matcher_str_list,suffix_matcher_str_list,set(human_str),prefix_matcher_str_len

########################################################机器人关键词匹配算法部分#######################################################
# 机器人关键词匹配算法-反转匹配部分
def KeyWordMatcherReverse(human_str,regex_str):
    regex_res = []
    regex_tmp = []
    keyword_hit_list = []
    keyword_hitchar_len = 0
    for regex_char in iter(regex_str):
        if regex_char == "(" or regex_char == ")" or regex_char == "|" or regex_char == "&":
            if len(regex_tmp) > 0:
                if "".join(regex_tmp) in human_str:
                    regex_res.append("True")
                    keyword_hitchar_len += len(regex_tmp)
                    keyword_hit_list.append("".join(regex_tmp))
                else:
                    regex_res.append("False")
                regex_tmp.clear()
            regex_res.append(regex_char)
        else:
            regex_tmp.append(regex_char)

    if len(regex_tmp) > 0:
        if "".join(regex_tmp) in human_str:
            regex_res.append("True")
            keyword_hitchar_len += len(regex_tmp)
            keyword_hit_list.append("".join(regex_tmp))
        else:
            regex_res.append("False")
    return "".join(regex_res),set(keyword_hit_list),keyword_hitchar_len
# 机器人关键词匹配算法-主函数部分
def KeyWordMatcher(human_str,regex_str):
    split_str = regex_str.split("&~")
    if len(split_str) == 1:
        prefix_matcher_bool_str,prefix_matcher_str_list,prefix_matcher_str_len = KeyWordMatcherReverse(human_str=human_str,regex_str=split_str[0])
    elif len(split_str) == 2:
        prefix_matcher_bool_str,prefix_matcher_str_list,prefix_matcher_str_len = KeyWordMatcherReverse(human_str=human_str,regex_str=split_str[0])
        suffix_matcher_bool_str,suffix_matcher_str_list,suffix_matcher_str_len = KeyWordMatcherReverse(human_str=human_str,regex_str=split_str[1])
    else:
        raise TypeError("Regular Expression Error !")
    
    if len(split_str) == 1:
        return eval(prefix_matcher_bool_str),prefix_matcher_str_list,[],set(human_str),prefix_matcher_str_len
    else:
        return eval(prefix_matcher_bool_str+"&~"+suffix_matcher_bool_str),prefix_matcher_str_list,suffix_matcher_str_list,set(human_str),prefix_matcher_str_len

#######################################################内部/众安小贷/使用的/关键词######################################################
# B工作
Credit_BWork_name_rule_dict = {'BWork_Credit_Rule_HeiHu_0': '(黑户|黑名单)', 'BWork_Credit_Rule_KouBeiCha_0': '(口碑差|骗人|诈骗|骗子|骗我|欺骗|骗来骗去|骗来|诈骗)&~(靠不)', 'BWork_Credit_Rule_YanE_1': '(不用|别|老|不要|再|天天|一直|总是|一天到晚|不停的)&(电话)&~(我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|的时候|到时候|需要时候|晚会|再见|接电话)', 'BWork_Credit_Rule_YanE_0': '(好烦|不想跟你说|不想和你说)', 'BWork_Credit_Rule_ZangHuaMaRen_0': '(我操|妈的|死|滚蛋|你妈|你妹|有病|他妈|鸡巴|神经病|妈个逼|脑子有问题|有毒|傻逼|屌)&~(操作)', 'BWork_Credit_Rule_JuBao_0': '(投诉|举报|曝光|报警|110|报案)', 'BWork_Credit_Rule_BuXinRen_0': '(不相信|不信|不会信|不会相信|不可靠)&~(骗|口碑差)', 'BWork_Credit_Rule_BuXuYao_2': '(不需要|不想要|没想要|没想用|不是很需要|没得需要|用不到|不考虑|没考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请)&~(开车|开着车|没时间|没空|骗人|再申请|再办|再搞|在上班|不要老是打电话|怎么借|打电话|打扰|骚扰|忽悠|骗钱|骗子|年纪大|年龄大|申请过|不贷给我|不要还|不用还|不需要还|亿|50万|100万|200万|400万|500万|一千万|1000万|2000万|五千万|打来|借给你|打了|不会弄|百万|抵押|申不申|我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼)', 'BWork_Credit_Rule_BuXuYao_1': '(没说|没有|没)&(申请|需要|要贷款|办理|需求)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间|没通过|什么没有|啥子没有|啥玩意)', 'BWork_Credit_Rule_BuXuYao_0': '(申请|需要|要贷款|办理)&(干嘛|干什么)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间)', 'BWork_Credit_Rule_TongXing_0': '(做信用卡|办卡的|办信用卡|是同行|同一个行业|从事办卡|从事信用卡|做这方面|从事这方面)&~(是吗|是吧)', 'BWork_Credit_Rule_HuanMeiBiYe_1': '(没有|还没|没)&(毕业)', 'BWork_Credit_Rule_HuanMeiBiYe_0': '(上大学|大一|大二|大三|大四|在上学|在读|学生)', 'BWork_Credit_Rule_WuYe，TuiXiu_0': '(离职|待业|无业|游民|退休|失业|应届|家里蹲|家庭妇女|全职妈妈|全职爸爸|家庭主妇|在家|照顾孩子|没有工作|没有单位|物业)&~(个体)', 'BWork_Credit_Rule_ZiYouZhiYe_0': '(自由|自由职业|灵活就业|农民工|务农|种地|建筑|保安|农民|出租车|跑车|装修|临时工|经商|零工|百姓|干活|送货)&~(个体|不用)', 'BWork_Credit_Rule_GuDong，FaRen_0': '(股东|法人|董事|老板|总经理|开公司|自己的公司|开厂|办厂|加工厂|公司|企业)&~(个体|在职|员工|职工)', 'BWork_Credit_Rule_GeTiHu_0': '(开店|工程|个体|创业)&~(法人|董事|老板|总经理|开公司|自己的公司|开厂|办厂)', 'BWork_Credit_Rule_ZaiZhiYuanGong_0': '(在职员工|打工|工作|在职|员工|上班|工人|公务员|白领|教师|人工|暂时|阳光|银行|高管|领导|医生|销售|快递|职工)&~(股东|法人|老板|总经理|董事|开公司|开厂|办厂|个体|是什么|股东|法人)', 'BWork_Credit_Rule_EDu_1': '(额度|金额|20万)&(太小|小|太少|少|不够|太低|低了)', 'BWork_Credit_Rule_EDu_0': '(能有|额度)&(多少钱|多少)', 'BWork_Credit_Rule_NianLingFanWei_1': '(七八十岁|六七十岁)', 'BWork_Credit_Rule_NianLingFanWei_0': '(年龄|年纪|岁数)&(太大|太小|大)', 'BWork_Credit_Rule_WenGongSi_2': '(什么)&(平台|公司|单位|APP|众安)', 'BWork_Credit_Rule_WenGongSi_1': '(不清楚|不明白|不知道|不了解|搞不懂|啥)&(哪的|哪里|平台|公司|单位|APP|干啥的|干什么|app|哪方面)', 'BWork_Credit_Rule_WenGongSi_0': '(什么|哪个)&(平台|公司|单位|APP|业务|网|软件)&~(没听清|你|不可靠)', 'BWork_Credit_Rule_ShiShui_0': '(你是|你)&(是谁|哪个|人工|叫啥|人|哪位|机器人|姓名)&~(平台|公司|银行|APP|单位|app|说|城市|地方|贷|打错|骗)', 'BWork_Credit_Rule_ShenQingTiaoJian_0': '(需要|满足|要)&(什么条件)', 'BWork_Credit_Rule_RuHeBanLi_0': '(怎么|搁哪|去哪)&(申请|办理|操作|弄)&~(通过|不了)', 'BWork_Credit_Rule_DianHuaZhiYi_0': '(怎么|哪里|从哪|为啥|哪个|什么渠道|哪个渠道)&(知道|搞到|弄到|得到|晓得|拿到)&(号码|电话|联系方式)', 'BWork_Credit_Rule_MianTan_0': '(电话申请|线上申请|要人工|要去柜台|需要见面签订|是不是需要当面填写资料|需要当面见聊|要去现场|要到网点|电话办|面签|面审)', 'BWork_Credit_Rule_GongSiDiZhi_0': '(你们浦发银行在哪里|在什么位置|在浙江还是广东|怎么去|哪里的浦发银行|在哪里|去银行|地理位置在哪)', 'BWork_Credit_Rule_FuWuFei_0': '(办理信用卡不要钱吗|花钱|要钱|费用|收取服务费|办卡需要手续费|免费申请|收费)', 'BWork_Credit_Rule_NianFei_0': '(免|收取|需要)&(年费)', 'BWork_Credit_Rule_ZhiYiSuoYaoXinXi_0': '(问这个|问这些|了解这个)&(干啥|干什么|做什么|为什么|怎么了)', 'BWork_Credit_Rule_HuoDongYouHui_0': '(活动|优惠)', 'BWork_Credit_Rule_DuoZhangQia_0': '(多张|好几张)', 'BWork_Credit_Rule_MeiYouQia_0': '(没有|没|没办|没办过)&(卡|信用卡)', 'BWork_Credit_Rule_FouDing_1': '(没有|取消|忘记|不知道|没激活)', 'BWork_Credit_Rule_FouDing_0': '(没有没有)'}
Credit_BWork_name_weight_dict = {'BWork_Credit_Rule_HeiHu_0': '15', 'BWork_Credit_Rule_KouBeiCha_0': '15', 'BWork_Credit_Rule_YanE_1': '25', 'BWork_Credit_Rule_YanE_0': '15', 'BWork_Credit_Rule_ZangHuaMaRen_0': '25', 'BWork_Credit_Rule_JuBao_0': '15', 'BWork_Credit_Rule_BuXinRen_0': '10', 'BWork_Credit_Rule_BuXuYao_2': '30', 'BWork_Credit_Rule_BuXuYao_1': '10', 'BWork_Credit_Rule_BuXuYao_0': '10', 'BWork_Credit_Rule_TongXing_0': '10', 'BWork_Credit_Rule_HuanMeiBiYe_1': '10', 'BWork_Credit_Rule_HuanMeiBiYe_0': '15', 'BWork_Credit_Rule_WuYe，TuiXiu_0': '15', 'BWork_Credit_Rule_ZiYouZhiYe_0': '15', 'BWork_Credit_Rule_GuDong，FaRen_0': '25', 'BWork_Credit_Rule_GeTiHu_0': '15', 'BWork_Credit_Rule_ZaiZhiYuanGong_0': '15', 'BWork_Credit_Rule_EDu_1': '15', 'BWork_Credit_Rule_EDu_0': '15', 'BWork_Credit_Rule_NianLingFanWei_1': '20', 'BWork_Credit_Rule_NianLingFanWei_0': '20', 'BWork_Credit_Rule_WenGongSi_2': '15', 'BWork_Credit_Rule_WenGongSi_1': '15', 'BWork_Credit_Rule_WenGongSi_0': '15', 'BWork_Credit_Rule_ShiShui_0': '15', 'BWork_Credit_Rule_ShenQingTiaoJian_0': '15', 'BWork_Credit_Rule_RuHeBanLi_0': '20', 'BWork_Credit_Rule_DianHuaZhiYi_0': '15', 'BWork_Credit_Rule_MianTan_0': '15', 'BWork_Credit_Rule_GongSiDiZhi_0': '10', 'BWork_Credit_Rule_FuWuFei_0': '10', 'BWork_Credit_Rule_NianFei_0': '10', 'BWork_Credit_Rule_ZhiYiSuoYaoXinXi_0': '8', 'BWork_Credit_Rule_HuoDongYouHui_0': '8', 'BWork_Credit_Rule_DuoZhangQia_0': '10', 'BWork_Credit_Rule_MeiYouQia_0': '10', 'BWork_Credit_Rule_FouDing_1': '10', 'BWork_Credit_Rule_FouDing_0': '10'}
Credit_BWork_ename_cname_dict = {'BWork_Credit_Rule_HeiHu_0': '黑户', 'BWork_Credit_Rule_KouBeiCha_0': '口碑差', 'BWork_Credit_Rule_YanE_1': '厌恶', 'BWork_Credit_Rule_YanE_0': '厌恶', 'BWork_Credit_Rule_ZangHuaMaRen_0': '脏话骂人', 'BWork_Credit_Rule_JuBao_0': '举报', 'BWork_Credit_Rule_BuXinRen_0': '不信任', 'BWork_Credit_Rule_BuXuYao_2': '不需要', 'BWork_Credit_Rule_BuXuYao_1': '不需要', 'BWork_Credit_Rule_BuXuYao_0': '不需要', 'BWork_Credit_Rule_TongXing_0': '同行', 'BWork_Credit_Rule_HuanMeiBiYe_1': '还没毕业', 'BWork_Credit_Rule_HuanMeiBiYe_0': '还没毕业', 'BWork_Credit_Rule_WuYe，TuiXiu_0': '无业，退休', 'BWork_Credit_Rule_ZiYouZhiYe_0': '自由职业', 'BWork_Credit_Rule_GuDong，FaRen_0': '股东，法人', 'BWork_Credit_Rule_GeTiHu_0': '个体户', 'BWork_Credit_Rule_ZaiZhiYuanGong_0': '在职员工', 'BWork_Credit_Rule_EDu_1': '额度（知识库）', 'BWork_Credit_Rule_EDu_0': '额度（知识库）', 'BWork_Credit_Rule_NianLingFanWei_1': '年龄范围（知识库）', 'BWork_Credit_Rule_NianLingFanWei_0': '年龄范围（知识库）', 'BWork_Credit_Rule_WenGongSi_2': '问公司（知识库）', 'BWork_Credit_Rule_WenGongSi_1': '问公司（知识库）', 'BWork_Credit_Rule_WenGongSi_0': '问公司（知识库）', 'BWork_Credit_Rule_ShiShui_0': '是谁（知识库）', 'BWork_Credit_Rule_ShenQingTiaoJian_0': '申请条件（知识库）', 'BWork_Credit_Rule_RuHeBanLi_0': '如何办理（知识库）', 'BWork_Credit_Rule_DianHuaZhiYi_0': '电话质疑（知识库）', 'BWork_Credit_Rule_MianTan_0': '面谈（知识库）', 'BWork_Credit_Rule_GongSiDiZhi_0': '公司地址（知识库）', 'BWork_Credit_Rule_FuWuFei_0': '服务费（知识库）', 'BWork_Credit_Rule_NianFei_0': '年费（知识库）', 'BWork_Credit_Rule_ZhiYiSuoYaoXinXi_0': '质疑索要信息（知识库）', 'BWork_Credit_Rule_HuoDongYouHui_0': '活动优惠（知识库）', 'BWork_Credit_Rule_DuoZhangQia_0': '多张卡（知识库）', 'BWork_Credit_Rule_MeiYouQia_0': '没有卡', 'BWork_Credit_Rule_FouDing_1': '否定', 'BWork_Credit_Rule_FouDing_0': '否定'}

# 开场白2
Credit_OpeningRemarks2_name_rule_dict = {'OpeningRemarks2_Credit_Rule_HeiHu_0': '(黑户|黑名单)', 'OpeningRemarks2_Credit_Rule_KouBeiCha_0': '(口碑差|骗人|诈骗|骗子|骗我|欺骗|骗来骗去|骗来|诈骗)&~(靠不)', 'OpeningRemarks2_Credit_Rule_YanE_0': '(不用|别|老|不要|再|天天|一直|总是|一天到晚|不停的|骚扰)&(电话)&~(我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|的时候|到时候|需要时候|晚会|再见|接电话)', 'OpeningRemarks2_Credit_Rule_ZangHuaMaRen_0': '(我操|妈的|死|滚蛋|你妈|你妹|有病|他妈|鸡巴|神经病|妈个逼|脑子有问题|有毒|傻逼)&~(操作)', 'OpeningRemarks2_Credit_Rule_JuBao_0': '(投诉|举报|曝光|报警|110)', 'OpeningRemarks2_Credit_Rule_BuXinRen_0': '(不相信|不信|不会信|不会相信|不可靠)&~(骗|口碑差)', 'OpeningRemarks2_Credit_Rule_BuXuYao_2': '(不需要|不想要|没想要|没想用|不是很需要|不太需要|没得需要|没有需要|用不到|不考虑|没考虑|不贷款|不想贷|不想办|不想用|不感兴趣|没兴趣|不办|不做|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不太用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请|不准备办|不太想办)&~(骗人|不要老是打电话|怎么借|打电话|打扰|骚扰|忽悠|骗钱|骗子|年纪大|年龄大|申请过|不贷给我|不要还|不用还|不需要还|亿|50万|100万|200万|400万|500万|一千万|1000万|2000万|五千万|打来|借给你|打了|不会弄|百万|抵押|申不申|我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|不要说)', 'OpeningRemarks2_Credit_Rule_BuXuYao_1': '(没说|没有|没)&(申请|需要|要贷款|办理|需求)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间|没通过|什么没有|啥子没有|啥玩意)', 'OpeningRemarks2_Credit_Rule_BuXuYao_0': '(申请|需要|要贷款|办理)&(干嘛|干什么)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间)', 'OpeningRemarks2_Credit_Rule_TongXing_0': '(做信用卡|办卡的|办信用卡|同行|同一个行业|从事办卡|从事信用卡|做这方面|从事这方面)&~(是吗|是吧|不喜欢)', 'OpeningRemarks2_Credit_Rule_KenDing_1': '(嗯|是|对)&~(不|我|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|没|没有|哪个|那个|什么|银行|公司|哪里|吗|哪儿|哪家|浦发|平安|信用卡|单位|怎么了|咋了|干什么|干啥|干嘛|谁|机器人|客服|机器|人工|没|不|一定要|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多|是多少)', 'OpeningRemarks2_Credit_Rule_KenDing_0': '(有|有的|有了)&~(没|不|没|没有|哪个|那个|什么|银行|公司|哪里|吗|哪儿|哪家|浦发|平安|信用卡|单位|怎么了|咋了|干什么|干啥|干嘛|谁|机器人|客服|优惠|没|不|一定要|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多|逾期|有点事)', 'OpeningRemarks2_Credit_Rule_YiYouQia_3': '(申请了|申请过|不是有吗|有信用卡|有别的银行的|有你们的信用卡|激活了)&~(没|不|一定要|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多)', 'OpeningRemarks2_Credit_Rule_YiYouQia_2': '(超过|大于|很多年|四五年|三四年|俩三年|在用|再用|用过|一直用)&~(没|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多)', 'OpeningRemarks2_Credit_Rule_YiYouQia_1': '(平安|招商|浦发|建行|建设银行|农商|光大)&~(没|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多)', 'OpeningRemarks2_Credit_Rule_YiYouQia_0': '(有|已经有了|有了)&(招商|浦发|平安|信用卡|银行卡|卡)&~(没|不需要|不要|不用|不办|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多|逾期)', 'OpeningRemarks2_Credit_Rule_MeiYouQia_0': '(没有|没|没办|没办过)&(卡|信用卡)&~(需要)', 'OpeningRemarks2_Credit_Rule_FouDing_2': '(没有|没得|没用过|没用|记不起来|取消|忘记|不知道|没激活|注销|销卡)&~(年费|需要|额度|钱|工作|通过|办成|有没有)', 'OpeningRemarks2_Credit_Rule_FouDing_1': '(没有没有)&~(需要)', 'OpeningRemarks2_Credit_Rule_FouDing_0': '(没有)&~(需要)', 'OpeningRemarks2_Credit_Rule_EDu_1': '(额度|金额|20万|十万|一万|最高)&(太小|小|太少|少|不够|太低|低了|多少)&~(不用)', 'OpeningRemarks2_Credit_Rule_EDu_0': '(能有|额度)&(多少钱|多少)&~(不用)', 'OpeningRemarks2_Credit_Rule_NianLingFanWei_1': '(七八十岁|六七十岁)', 'OpeningRemarks2_Credit_Rule_NianLingFanWei_0': '(年龄|年纪|岁数)&(太大|太小|大)', 'OpeningRemarks2_Credit_Rule_WenGongSi_2': '(什么)&(平台|公司|单位|APP|众安)', 'OpeningRemarks2_Credit_Rule_WenGongSi_1': '(不清楚|不明白|不知道|不了解|搞不懂|啥)&(哪的|哪里|平台|公司|单位|APP|干啥的|干什么|app|哪方面)', 'OpeningRemarks2_Credit_Rule_WenGongSi_0': '(什么|哪个)&(平台|公司|单位|APP|业务|网|软件)&~(没听清|你|不可靠|需要)', 'OpeningRemarks2_Credit_Rule_ShiShui_0': '(你是|你)&(是谁|哪个|人工|叫啥|人|哪位|机器人|姓名)&~(平台|公司|银行|APP|单位|app|说|城市|地方|贷|打错|骗)', 'OpeningRemarks2_Credit_Rule_ShenQingTiaoJian_0': '(需要|满足|要)&(什么条件)', 'OpeningRemarks2_Credit_Rule_RuHeBanLi_0': '(怎么|搁哪|去哪)&(申请|办理|操作|弄)&~(通过|不了)', 'OpeningRemarks2_Credit_Rule_DianHuaZhiYi_0': '(怎么|哪里|从哪|为啥|哪个|什么渠道|哪个渠道)&(知道|搞到|弄到|得到|晓得|拿到)&(号码|电话|联系方式)', 'OpeningRemarks2_Credit_Rule_MianTan_0': '(电话申请|线上申请|要人工|要去柜台|需要见面签订|是不是需要当面填写资料|需要当面见聊|要去现场|要到网点|电话办|面签|面审)', 'OpeningRemarks2_Credit_Rule_GongSiDiZhi_0': '(你们浦发银行在哪里|在什么位置|在浙江还是广东|怎么去|哪里的浦发银行|在哪里|去银行|地理位置在哪)', 'OpeningRemarks2_Credit_Rule_FuWuFei_0': '(办理信用卡不要钱吗|花钱|要钱|费用|收取服务费|办卡需要手续费|免费申请|收费)', 'OpeningRemarks2_Credit_Rule_NianFei_0': '(免|收取|需要)&(年费)', 'OpeningRemarks2_Credit_Rule_ZhiYiSuoYaoXinXi_0': '(问这个|问这些|了解这个)&(干啥|干什么|做什么|为什么|怎么了)', 'OpeningRemarks2_Credit_Rule_HuoDongYouHui_0': '(活动|优惠)', 'OpeningRemarks2_Credit_Rule_DuoZhangQia_0': '(多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多)&~(没|不|不需要|不要|不用|不想要|不准备|不太用|不太需要|不想|没用|不做|不弄)', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_2': '(申请失败|审核失败|没通过|没有申请通过|申请不到|通不过|申请不了|审核不通过|信用烂了|征信烂了|征信差劲|逾期|没有资格|办不下来|没有办成|没有下来|下不了|不通过|申请不下来|贷不下来|批不下来|没有通过|没通过|不能通过|信用不行|征信不行|不批|不符合|拒了|没有批|不放款|不良记录)&~(骗)', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_1': '(征信|信用度|信用卡)&(不好|不高|不行|逾期|问题)&~(不好意思)', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_0': '(申请|借|贷|试了|试过|征信|通过|信誉|诚信|信用|下载|审批)&(不下来|不通过|下不来|没额度|没有额度|不过|不成|不批|没有批|不出来|出不来|不成功|不良|不出钱|过不去|不了|不好|不太好|不够)&~(年龄|年纪|岁数|还不了|借口|太多|骗)'}
Credit_OpeningRemarks2_name_weight_dict = {'OpeningRemarks2_Credit_Rule_HeiHu_0': '15', 'OpeningRemarks2_Credit_Rule_KouBeiCha_0': '15', 'OpeningRemarks2_Credit_Rule_YanE_0': '25', 'OpeningRemarks2_Credit_Rule_ZangHuaMaRen_0': '25', 'OpeningRemarks2_Credit_Rule_JuBao_0': '15', 'OpeningRemarks2_Credit_Rule_BuXinRen_0': '10', 'OpeningRemarks2_Credit_Rule_BuXuYao_2': '30', 'OpeningRemarks2_Credit_Rule_BuXuYao_1': '25', 'OpeningRemarks2_Credit_Rule_BuXuYao_0': '25', 'OpeningRemarks2_Credit_Rule_TongXing_0': '10', 'OpeningRemarks2_Credit_Rule_KenDing_1': '8', 'OpeningRemarks2_Credit_Rule_KenDing_0': '10', 'OpeningRemarks2_Credit_Rule_YiYouQia_3': '15', 'OpeningRemarks2_Credit_Rule_YiYouQia_2': '15', 'OpeningRemarks2_Credit_Rule_YiYouQia_1': '15', 'OpeningRemarks2_Credit_Rule_YiYouQia_0': '15', 'OpeningRemarks2_Credit_Rule_MeiYouQia_0': '25', 'OpeningRemarks2_Credit_Rule_FouDing_2': '25', 'OpeningRemarks2_Credit_Rule_FouDing_1': '10', 'OpeningRemarks2_Credit_Rule_FouDing_0': '3', 'OpeningRemarks2_Credit_Rule_EDu_1': '15', 'OpeningRemarks2_Credit_Rule_EDu_0': '15', 'OpeningRemarks2_Credit_Rule_NianLingFanWei_1': '20', 'OpeningRemarks2_Credit_Rule_NianLingFanWei_0': '20', 'OpeningRemarks2_Credit_Rule_WenGongSi_2': '15', 'OpeningRemarks2_Credit_Rule_WenGongSi_1': '15', 'OpeningRemarks2_Credit_Rule_WenGongSi_0': '15', 'OpeningRemarks2_Credit_Rule_ShiShui_0': '15', 'OpeningRemarks2_Credit_Rule_ShenQingTiaoJian_0': '15', 'OpeningRemarks2_Credit_Rule_RuHeBanLi_0': '20', 'OpeningRemarks2_Credit_Rule_DianHuaZhiYi_0': '15', 'OpeningRemarks2_Credit_Rule_MianTan_0': '15', 'OpeningRemarks2_Credit_Rule_GongSiDiZhi_0': '10', 'OpeningRemarks2_Credit_Rule_FuWuFei_0': '10', 'OpeningRemarks2_Credit_Rule_NianFei_0': '10', 'OpeningRemarks2_Credit_Rule_ZhiYiSuoYaoXinXi_0': '8', 'OpeningRemarks2_Credit_Rule_HuoDongYouHui_0': '8', 'OpeningRemarks2_Credit_Rule_DuoZhangQia_0': '25', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_2': '15', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_1': '15', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_0': '25'}
Credit_OpeningRemarks2_ename_cname_dict = {'OpeningRemarks2_Credit_Rule_HeiHu_0': '黑户', 'OpeningRemarks2_Credit_Rule_KouBeiCha_0': '口碑差', 'OpeningRemarks2_Credit_Rule_YanE_0': '厌恶', 'OpeningRemarks2_Credit_Rule_ZangHuaMaRen_0': '脏话骂人', 'OpeningRemarks2_Credit_Rule_JuBao_0': '举报', 'OpeningRemarks2_Credit_Rule_BuXinRen_0': '不信任', 'OpeningRemarks2_Credit_Rule_BuXuYao_2': '不需要', 'OpeningRemarks2_Credit_Rule_BuXuYao_1': '不需要', 'OpeningRemarks2_Credit_Rule_BuXuYao_0': '不需要', 'OpeningRemarks2_Credit_Rule_TongXing_0': '同行', 'OpeningRemarks2_Credit_Rule_KenDing_1': '肯定', 'OpeningRemarks2_Credit_Rule_KenDing_0': '肯定', 'OpeningRemarks2_Credit_Rule_YiYouQia_3': '已有卡', 'OpeningRemarks2_Credit_Rule_YiYouQia_2': '已有卡', 'OpeningRemarks2_Credit_Rule_YiYouQia_1': '已有卡', 'OpeningRemarks2_Credit_Rule_YiYouQia_0': '已有卡', 'OpeningRemarks2_Credit_Rule_MeiYouQia_0': '没有卡', 'OpeningRemarks2_Credit_Rule_FouDing_2': '否定', 'OpeningRemarks2_Credit_Rule_FouDing_1': '否定', 'OpeningRemarks2_Credit_Rule_FouDing_0': '否定', 'OpeningRemarks2_Credit_Rule_EDu_1': '额度（知识库）', 'OpeningRemarks2_Credit_Rule_EDu_0': '额度（知识库）', 'OpeningRemarks2_Credit_Rule_NianLingFanWei_1': '年龄范围（知识库）', 'OpeningRemarks2_Credit_Rule_NianLingFanWei_0': '年龄范围（知识库）', 'OpeningRemarks2_Credit_Rule_WenGongSi_2': '问公司（知识库）', 'OpeningRemarks2_Credit_Rule_WenGongSi_1': '问公司（知识库）', 'OpeningRemarks2_Credit_Rule_WenGongSi_0': '问公司（知识库）', 'OpeningRemarks2_Credit_Rule_ShiShui_0': '是谁（知识库）', 'OpeningRemarks2_Credit_Rule_ShenQingTiaoJian_0': '申请条件（知识库）', 'OpeningRemarks2_Credit_Rule_RuHeBanLi_0': '如何办理（知识库）', 'OpeningRemarks2_Credit_Rule_DianHuaZhiYi_0': '电话质疑（知识库）', 'OpeningRemarks2_Credit_Rule_MianTan_0': '面谈（知识库）', 'OpeningRemarks2_Credit_Rule_GongSiDiZhi_0': '公司地址（知识库）', 'OpeningRemarks2_Credit_Rule_FuWuFei_0': '服务费（知识库）', 'OpeningRemarks2_Credit_Rule_NianFei_0': '年费（知识库）', 'OpeningRemarks2_Credit_Rule_ZhiYiSuoYaoXinXi_0': '质疑索要信息（知识库）', 'OpeningRemarks2_Credit_Rule_HuoDongYouHui_0': '活动优惠（知识库）', 'OpeningRemarks2_Credit_Rule_DuoZhangQia_0': '多张卡（知识库）', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_2': '没通过（知识库）', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_1': '没通过（知识库）', 'OpeningRemarks2_Credit_Rule_MeiTongGuo_0': '没通过（知识库）'}

# 姓氏
Credit_Surname_name_rule_dict = {'Surname_Credit_Rule_HeiHu_0': '(黑户|黑名单)', 'Surname_Credit_Rule_KouBeiCha_0': '(口碑差|骗人|诈骗|骗子|骗我|欺骗|骗来骗去|骗来|诈骗)&~(靠不)', 'Surname_Credit_Rule_YanE_0': '(不用|别|老|不要|再|天天|一直|总是|一天到晚|不停的)&(电话)&~(我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|的时候|到时候|需要时候|晚会|再见|接电话)', 'Surname_Credit_Rule_ZangHuaMaRen_0': '(我操|妈的|死|滚蛋|你妈|你妹|有病|他妈|鸡巴|神经病|妈个逼|脑子有问题|有毒|傻逼)&~(操作)', 'Surname_Credit_Rule_JuBao_0': '(投诉|举报|曝光|报警|110)', 'Surname_Credit_Rule_BuXinRen_0': '(不相信|不信|不会信|不会相信|不可靠)&~(骗|口碑差)', 'Surname_Credit_Rule_BuXuYao_2': '(不需要|不想要|没想要|没想用|不是很需要|没得需要|用不到|不考虑|没考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请)&~(开车|开着车|没时间|没空|骗人|再申请|再办|再搞|在上班|不要老是打电话|怎么借|打电话|打扰|骚扰|忽悠|骗钱|骗子|年纪大|年龄大|申请过|不贷给我|不要还|不用还|不需要还|亿|50万|100万|200万|400万|500万|一千万|1000万|2000万|五千万|打来|借给你|打了|不会弄|百万|抵押|申不申|我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼)', 'Surname_Credit_Rule_BuXuYao_1': '(没说|没有|没)&(申请|需要|要贷款|办理|需求)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间|没通过|什么没有|啥子没有|啥玩意)', 'Surname_Credit_Rule_BuXuYao_0': '(申请|需要|要贷款|办理)&(干嘛|干什么)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间)', 'Surname_Credit_Rule_TongXing_1': '(做信用卡|办卡的|办信用卡|是同行|同一个行业|从事办卡|从事信用卡|做这方面|从事这方面)&~(是吗|是吧)', 'Surname_Credit_Rule_XingShi_1': '(姓|我姓)', 'Surname_Credit_Rule_TongXing_0': '(一个姓|同姓|本家|我也是|我也姓这个)&~(张)', 'Surname_Credit_Rule_EDu_1': '(额度|金额|20万)&(太小|小|太少|少|不够|太低|低了)', 'Surname_Credit_Rule_EDu_0': '(能有|额度)&(多少钱|多少)', 'Surname_Credit_Rule_NianLingFanWei_1': '(七八十岁|六七十岁)', 'Surname_Credit_Rule_NianLingFanWei_0': '(年龄|年纪|岁数)&(太大|太小|大)', 'Surname_Credit_Rule_WenGongSi_2': '(什么)&(平台|公司|单位|APP|众安)', 'Surname_Credit_Rule_WenGongSi_1': '(不清楚|不明白|不知道|不了解|搞不懂|啥)&(哪的|哪里|平台|公司|单位|APP|干啥的|干什么|app|哪方面)', 'Surname_Credit_Rule_WenGongSi_0': '(什么|哪个)&(平台|公司|单位|APP|业务|网|软件)&~(没听清|你|不可靠)', 'Surname_Credit_Rule_ShiShui_0': '(你是|你)&(是谁|哪个|人工|叫啥|人|哪位|机器人|姓名)&~(平台|公司|银行|APP|单位|app|说|城市|地方|贷|打错|骗)', 'Surname_Credit_Rule_ShenQingTiaoJian_0': '(需要|满足|要)&(什么条件)', 'Surname_Credit_Rule_RuHeBanLi_0': '(怎么|搁哪|去哪)&(申请|办理|操作|弄)&~(通过|不了)', 'Surname_Credit_Rule_DianHuaZhiYi_0': '(怎么|哪里|从哪|为啥|哪个|什么渠道|哪个渠道)&(知道|搞到|弄到|得到|晓得|拿到)&(号码|电话|联系方式)', 'Surname_Credit_Rule_MianTan_0': '(电话申请|线上申请|要人工|要去柜台|需要见面签订|是不是需要当面填写资料|需要当面见聊|要去现场|要到网点|电话办|面签|面审)', 'Surname_Credit_Rule_GongSiDiZhi_0': '(你们浦发银行在哪里|在什么位置|在浙江还是广东|怎么去|哪里的浦发银行|在哪里|去银行|地理位置在哪)', 'Surname_Credit_Rule_FuWuFei_0': '(办理信用卡不要钱吗|花钱|要钱|费用|收取服务费|办卡需要手续费|免费申请|收费)', 'Surname_Credit_Rule_NianFei_0': '(免|收取|需要)&(年费)', 'Surname_Credit_Rule_ZhiYiSuoYaoXinXi_0': '(问这个|问这些|了解这个)&(干啥|干什么|做什么|为什么|怎么了)', 'Surname_Credit_Rule_HuoDongYouHui_0': '(活动|优惠)', 'Surname_Credit_Rule_DuoZhangQia_0': '(多张|好几张)', 'Surname_Credit_Rule_XingShi_0': '(王|李|张|刘|陈|杨|黄|赵|周|吴|徐|孙|朱|马|胡|郭|林|何|高|梁|郑|罗|宋|谢|唐|韩|曹|许|邓|萧|冯|曾|程|蔡|彭|潘|袁|于|董|余|苏|叶|吕|魏|蒋|田|杜|丁|沈|姜|范|江|傅|钟|卢|汪|戴|崔|任|陆|廖|姚|方|金|邱|夏|谭|韦|贾|邹|石|熊|孟|秦|阎|薛|侯|雷|白|龙|段|郝|孔|邵|史|毛|常|万|顾|赖|武|康|贺|严|尹|钱|施|牛|洪|龚)'}
Credit_Surname_name_weight_dict = {'Surname_Credit_Rule_HeiHu_0': '15', 'Surname_Credit_Rule_KouBeiCha_0': '15', 'Surname_Credit_Rule_YanE_0': '25', 'Surname_Credit_Rule_ZangHuaMaRen_0': '25', 'Surname_Credit_Rule_JuBao_0': '15', 'Surname_Credit_Rule_BuXinRen_0': '10', 'Surname_Credit_Rule_BuXuYao_2': '30', 'Surname_Credit_Rule_BuXuYao_1': '10', 'Surname_Credit_Rule_BuXuYao_0': '10', 'Surname_Credit_Rule_TongXing_1': '10', 'Surname_Credit_Rule_XingShi_1': '15', 'Surname_Credit_Rule_TongXing_0': '15', 'Surname_Credit_Rule_EDu_1': '15', 'Surname_Credit_Rule_EDu_0': '15', 'Surname_Credit_Rule_NianLingFanWei_1': '20', 'Surname_Credit_Rule_NianLingFanWei_0': '20', 'Surname_Credit_Rule_WenGongSi_2': '15', 'Surname_Credit_Rule_WenGongSi_1': '15', 'Surname_Credit_Rule_WenGongSi_0': '15', 'Surname_Credit_Rule_ShiShui_0': '15', 'Surname_Credit_Rule_ShenQingTiaoJian_0': '15', 'Surname_Credit_Rule_RuHeBanLi_0': '20', 'Surname_Credit_Rule_DianHuaZhiYi_0': '15', 'Surname_Credit_Rule_MianTan_0': '15', 'Surname_Credit_Rule_GongSiDiZhi_0': '10', 'Surname_Credit_Rule_FuWuFei_0': '10', 'Surname_Credit_Rule_NianFei_0': '10', 'Surname_Credit_Rule_ZhiYiSuoYaoXinXi_0': '8', 'Surname_Credit_Rule_HuoDongYouHui_0': '8', 'Surname_Credit_Rule_DuoZhangQia_0': '10', 'Surname_Credit_Rule_XingShi_0': '3'}
Credit_Surname_ename_cname_dict = {'Surname_Credit_Rule_HeiHu_0': '黑户', 'Surname_Credit_Rule_KouBeiCha_0': '口碑差', 'Surname_Credit_Rule_YanE_0': '厌恶', 'Surname_Credit_Rule_ZangHuaMaRen_0': '脏话骂人', 'Surname_Credit_Rule_JuBao_0': '举报', 'Surname_Credit_Rule_BuXinRen_0': '不信任', 'Surname_Credit_Rule_BuXuYao_2': '不需要', 'Surname_Credit_Rule_BuXuYao_1': '不需要', 'Surname_Credit_Rule_BuXuYao_0': '不需要', 'Surname_Credit_Rule_TongXing_1': '同行', 'Surname_Credit_Rule_XingShi_1': '姓氏', 'Surname_Credit_Rule_TongXing_0': '同姓', 'Surname_Credit_Rule_EDu_1': '额度（知识库）', 'Surname_Credit_Rule_EDu_0': '额度（知识库）', 'Surname_Credit_Rule_NianLingFanWei_1': '年龄范围（知识库）', 'Surname_Credit_Rule_NianLingFanWei_0': '年龄范围（知识库）', 'Surname_Credit_Rule_WenGongSi_2': '问公司（知识库）', 'Surname_Credit_Rule_WenGongSi_1': '问公司（知识库）', 'Surname_Credit_Rule_WenGongSi_0': '问公司（知识库）', 'Surname_Credit_Rule_ShiShui_0': '是谁（知识库）', 'Surname_Credit_Rule_ShenQingTiaoJian_0': '申请条件（知识库）', 'Surname_Credit_Rule_RuHeBanLi_0': '如何办理（知识库）', 'Surname_Credit_Rule_DianHuaZhiYi_0': '电话质疑（知识库）', 'Surname_Credit_Rule_MianTan_0': '面谈（知识库）', 'Surname_Credit_Rule_GongSiDiZhi_0': '公司地址（知识库）', 'Surname_Credit_Rule_FuWuFei_0': '服务费（知识库）', 'Surname_Credit_Rule_NianFei_0': '年费（知识库）', 'Surname_Credit_Rule_ZhiYiSuoYaoXinXi_0': '质疑索要信息（知识库）', 'Surname_Credit_Rule_HuoDongYouHui_0': '活动优惠（知识库）', 'Surname_Credit_Rule_DuoZhangQia_0': '多张卡（知识库）', 'Surname_Credit_Rule_XingShi_0': '姓氏'}

# 学历
Credit_Education_name_rule_dict = {'Education_Credit_Rule_HeiHu_0': '(黑户|黑名单)', 'Education_Credit_Rule_KouBeiCha_0': '(口碑差|骗人|诈骗|骗子|骗我|欺骗|骗来骗去|骗来|诈骗)&~(靠不)', 'Education_Credit_Rule_YanE_0': '(不用|别|老|不要|再|天天|一直|总是|一天到晚|不停的)&(电话)&~(我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|的时候|到时候|需要时候|晚会|再见|接电话)', 'Education_Credit_Rule_ZangHuaMaRen_0': '(我操|妈的|死|滚蛋|你妈|你妹|有病|他妈|鸡巴|神经病|妈个逼|脑子有问题|有毒|傻逼)&~(操作)', 'Education_Credit_Rule_JuBao_0': '(投诉|举报|曝光|报警|110)', 'Education_Credit_Rule_BuXinRen_0': '(不相信|不信|不会信|不会相信|不可靠)&~(骗|口碑差)', 'Education_Credit_Rule_BuXuYao_2': '(不需要|不想|搞不来|不想办|不打算|没想要|没想用|不是很需要|没得需要|用不到|不考虑|没考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|办不了|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不会用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请)&~(没时间|没空|骗人|再申请|在上班|不要老是打电话|怎么借|打电话|打扰|骚扰|忽悠|骗钱|骗子|年纪大|年龄大|申请过|不贷给我|亿|50万|100万|200万|400万|500万|一千万|1000万|2000万|五千万|打来|借给你|打了|不会弄|百万|抵押|申不申|我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼)', 'Education_Credit_Rule_BuXuYao_1': '(没说|没有|没)&(申请|打算|需要|要贷款|办理|需求)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间|没通过|什么没有|啥子没有|啥玩意)', 'Education_Credit_Rule_BuXuYao_0': '(申请|需要|要贷款|办理)&(干嘛|干什么)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间)', 'Education_Credit_Rule_TongXing_0': '(做信用卡|办卡的|办信用卡|是同行|同一个行业|从事办卡|从事信用卡|做这方面|从事这方面)&~(是吗|是吧)', 'Education_Credit_Rule_FouDing_1': '(没有)', 'Education_Credit_Rule_FouDing_0': '(没有没有)', 'Education_Credit_Rule_HuanMeiBiYe_1': '(没有|还没|没)&(毕业)', 'Education_Credit_Rule_HuanMeiBiYe_0': '(上大学|大一|大二|大三|大四|在上学|在读)', 'Education_Credit_Rule_BenKeJiYiShangXueLi_0': '(大专以上|本科|本科以上|硕士|博士|985|211|九八五|二一一|研究生|一本|二本|三本|双非)&~(不到|没有)', 'Education_Credit_Rule_DaZhuanXueLi_0': '(大专|专科)&~(以上|以下|不到|没有)', 'Education_Credit_Rule_GaoZhongXueLi_0': '(高中)&~(以上|以下|不到|没有|上高中)', 'Education_Credit_Rule_GaoZhongYiXia_0': '(高中以下|中专|没到大专|专科以下|没上过学|幼儿园|小学|初中|没学历|没文化|文盲|农民|没有那么高|没读过书|书都没读过|没上过学|上高中|小学|中学|文化很低|没有高中)', 'Education_Credit_Rule_EDu_1': '(额度|金额|20万)&(太小|小|太少|少|不够|太低|低了)', 'Education_Credit_Rule_EDu_0': '(能有|额度)&(多少钱|多少)', 'Education_Credit_Rule_NianLingFanWei_1': '(七八十岁|六七十岁)', 'Education_Credit_Rule_NianLingFanWei_0': '(年龄|年纪|岁数)&(太大|太小|大)', 'Education_Credit_Rule_WenGongSi_2': '(什么)&(平台|公司|单位|APP|众安)', 'Education_Credit_Rule_WenGongSi_1': '(不清楚|不明白|不知道|不了解|搞不懂|啥)&(哪的|哪里|平台|公司|单位|APP|干啥的|干什么|app|哪方面)', 'Education_Credit_Rule_WenGongSi_0': '(什么|哪个)&(平台|公司|单位|APP|业务|网|软件)&~(没听清|你|不可靠)', 'Education_Credit_Rule_ShiShui_0': '(你是|你)&(是谁|哪个|人工|叫啥|人|哪位|机器人|姓名)&~(平台|公司|银行|APP|单位|app|说|城市|地方|贷|打错|骗|机构)', 'Education_Credit_Rule_ShenQingTiaoJian_0': '(需要|满足|要)&(什么条件)', 'Education_Credit_Rule_RuHeBanLi_0': '(怎么|搁哪|去哪)&(申请|办理|操作|弄)&~(通过|不了)', 'Education_Credit_Rule_DianHuaZhiYi_0': '(怎么|哪里|从哪|为啥|哪个|什么渠道|哪个渠道)&(知道|搞到|弄到|得到|晓得|拿到)&(号码|电话|联系方式)', 'Education_Credit_Rule_MianTan_0': '(电话申请|线上申请|要人工|要去柜台|需要见面签订|是不是需要当面填写资料|需要当面见聊|要去现场|要到网点|电话办|面签|面审)', 'Education_Credit_Rule_GongSiDiZhi_0': '(你们浦发银行在哪里|在什么位置|在浙江还是广东|怎么去|哪里的浦发银行|在哪里|去银行|地理位置在哪)', 'Education_Credit_Rule_FuWuFei_0': '(办理信用卡不要钱吗|花钱|要钱|费用|收取服务费|办卡需要手续费|免费申请|收费)', 'Education_Credit_Rule_NianFei_0': '(免|收取|需要)&(年费)', 'Education_Credit_Rule_ZhiYiSuoYaoXinXi_0': '(问这个|问这些|了解这个)&(干啥|干什么|做什么|为什么|怎么了)', 'Education_Credit_Rule_HuoDongYouHui_0': '(活动|优惠)', 'Education_Credit_Rule_DuoZhangQia_0': '(多张|好几张)', 'Education_Credit_Rule_MeiTongGuo_2': '(申请失败|审核失败|没通过|没有申请通过|申请不到|通不过|申请不了|审核不通过|信用烂了|征信烂了|征信差劲|逾期|没有资格|办不下来|没有办成|没有下来|下不了|不通过|申请不下来|贷不下来|批不下来|没有通过|没通过|不能通过|信用不行|征信不行|不批|不符合|拒了|没有批|不放款|不良记录)&~(骗)', 'Education_Credit_Rule_MeiTongGuo_1': '(征信|信用度|信用卡)&(不好|不高|不行|逾期|问题)&~(不好意思)', 'Education_Credit_Rule_MeiTongGuo_0': '(申请|借|贷|试了|试过|征信|通过|信誉|诚信|信用|下载|审批)&(不下来|不通过|下不来|没额度|没有额度|不过|不成|不批|没有批|不出来|出不来|不成功|不良|不出钱|过不去|不了|不好|不太好|不够)&~(年龄|年纪|岁数|还不了|借口|太多|骗)'}
Credit_Education_name_weight_dict = {'Education_Credit_Rule_HeiHu_0': '15', 'Education_Credit_Rule_KouBeiCha_0': '15', 'Education_Credit_Rule_YanE_0': '25', 'Education_Credit_Rule_ZangHuaMaRen_0': '25', 'Education_Credit_Rule_JuBao_0': '15', 'Education_Credit_Rule_BuXinRen_0': '10', 'Education_Credit_Rule_BuXuYao_2': '30', 'Education_Credit_Rule_BuXuYao_1': '10', 'Education_Credit_Rule_BuXuYao_0': '10', 'Education_Credit_Rule_TongXing_0': '10', 'Education_Credit_Rule_FouDing_1': '1', 'Education_Credit_Rule_FouDing_0': '1', 'Education_Credit_Rule_HuanMeiBiYe_1': '10', 'Education_Credit_Rule_HuanMeiBiYe_0': '10', 'Education_Credit_Rule_BenKeJiYiShangXueLi_0': '18', 'Education_Credit_Rule_DaZhuanXueLi_0': '15', 'Education_Credit_Rule_GaoZhongXueLi_0': '15', 'Education_Credit_Rule_GaoZhongYiXia_0': '15', 'Education_Credit_Rule_EDu_1': '15', 'Education_Credit_Rule_EDu_0': '15', 'Education_Credit_Rule_NianLingFanWei_1': '20', 'Education_Credit_Rule_NianLingFanWei_0': '20', 'Education_Credit_Rule_WenGongSi_2': '15', 'Education_Credit_Rule_WenGongSi_1': '15', 'Education_Credit_Rule_WenGongSi_0': '15', 'Education_Credit_Rule_ShiShui_0': '15', 'Education_Credit_Rule_ShenQingTiaoJian_0': '15', 'Education_Credit_Rule_RuHeBanLi_0': '20', 'Education_Credit_Rule_DianHuaZhiYi_0': '15', 'Education_Credit_Rule_MianTan_0': '15', 'Education_Credit_Rule_GongSiDiZhi_0': '10', 'Education_Credit_Rule_FuWuFei_0': '10', 'Education_Credit_Rule_NianFei_0': '10', 'Education_Credit_Rule_ZhiYiSuoYaoXinXi_0': '8', 'Education_Credit_Rule_HuoDongYouHui_0': '8', 'Education_Credit_Rule_DuoZhangQia_0': '10', 'Education_Credit_Rule_MeiTongGuo_2': '15', 'Education_Credit_Rule_MeiTongGuo_1': '15', 'Education_Credit_Rule_MeiTongGuo_0': '25'}
Credit_Education_ename_cname_dict = {'Education_Credit_Rule_HeiHu_0': '黑户', 'Education_Credit_Rule_KouBeiCha_0': '口碑差', 'Education_Credit_Rule_YanE_0': '厌恶', 'Education_Credit_Rule_ZangHuaMaRen_0': '脏话骂人', 'Education_Credit_Rule_JuBao_0': '举报', 'Education_Credit_Rule_BuXinRen_0': '不信任', 'Education_Credit_Rule_BuXuYao_2': '不需要', 'Education_Credit_Rule_BuXuYao_1': '不需要', 'Education_Credit_Rule_BuXuYao_0': '不需要', 'Education_Credit_Rule_TongXing_0': '同行', 'Education_Credit_Rule_FouDing_1': '否定', 'Education_Credit_Rule_FouDing_0': '否定', 'Education_Credit_Rule_HuanMeiBiYe_1': '还没毕业', 'Education_Credit_Rule_HuanMeiBiYe_0': '还没毕业', 'Education_Credit_Rule_BenKeJiYiShangXueLi_0': '本科及以上学历', 'Education_Credit_Rule_DaZhuanXueLi_0': '大专学历', 'Education_Credit_Rule_GaoZhongXueLi_0': '高中学历', 'Education_Credit_Rule_GaoZhongYiXia_0': '高中以下', 'Education_Credit_Rule_EDu_1': '额度（知识库）', 'Education_Credit_Rule_EDu_0': '额度（知识库）', 'Education_Credit_Rule_NianLingFanWei_1': '年龄范围（知识库）', 'Education_Credit_Rule_NianLingFanWei_0': '年龄范围（知识库）', 'Education_Credit_Rule_WenGongSi_2': '问公司（知识库）', 'Education_Credit_Rule_WenGongSi_1': '问公司（知识库）', 'Education_Credit_Rule_WenGongSi_0': '问公司（知识库）', 'Education_Credit_Rule_ShiShui_0': '是谁（知识库）', 'Education_Credit_Rule_ShenQingTiaoJian_0': '申请条件（知识库）', 'Education_Credit_Rule_RuHeBanLi_0': '如何办理（知识库）', 'Education_Credit_Rule_DianHuaZhiYi_0': '电话质疑（知识库）', 'Education_Credit_Rule_MianTan_0': '面谈（知识库）', 'Education_Credit_Rule_GongSiDiZhi_0': '公司地址（知识库）', 'Education_Credit_Rule_FuWuFei_0': '服务费（知识库）', 'Education_Credit_Rule_NianFei_0': '年费（知识库）', 'Education_Credit_Rule_ZhiYiSuoYaoXinXi_0': '质疑索要信息（知识库）', 'Education_Credit_Rule_HuoDongYouHui_0': '活动优惠（知识库）', 'Education_Credit_Rule_DuoZhangQia_0': '多张卡（知识库）', 'Education_Credit_Rule_MeiTongGuo_2': '没通过（知识库）', 'Education_Credit_Rule_MeiTongGuo_1': '没通过（知识库）', 'Education_Credit_Rule_MeiTongGuo_0': '没通过（知识库）'}

# 邀约
Credit_Invite_name_rule_dict = {'Invite_Credit_Rule_HeiHu_0': '(黑户|黑名单)', 'Invite_Credit_Rule_KouBeiCha_0': '(口碑差|骗人|诈骗|骗子|骗我|欺骗|骗来骗去|骗来|诈骗)&~(靠不)', 'Invite_Credit_Rule_YanE_0': '(不用|别|老|不要|再|天天|一直|总是|一天到晚|不停的)&(电话)&~(我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|的时候|到时候|需要时候|晚会|再见|接电话)', 'Invite_Credit_Rule_ZangHuaMaRen_0': '(我操|妈的|死|滚蛋|你妈|你妹|有病|他妈|鸡巴|神经病|妈个逼|脑子有问题|有毒|傻逼)&~(操作)', 'Invite_Credit_Rule_JuBao_0': '(投诉|举报|曝光|报警|110)', 'Invite_Credit_Rule_BuXinRen_0': '(不相信|不信|不会信|不会相信|不可靠)&~(骗|口碑差)', 'Invite_Credit_Rule_BuXuYao_2': '(不需要|不想要|没想要|没想用|不是很需要|没得需要|用不到|不考虑|没考虑|不贷款|不想贷|不想办|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请)&~(开车|开着车|骗人|再申请|再办|再搞|在上班|不要老是打电话|怎么借|打电话|打扰|骚扰|忽悠|骗钱|骗子|年纪大|年龄大|不贷给我|不要还|不用还|不需要还|亿|50万|100万|200万|400万|500万|一千万|1000万|2000万|五千万|打来|借给你|打了|不会弄|百万|抵押|申不申|我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼)', 'Invite_Credit_Rule_BuXuYao_1': '(没说|没有|没)&(申请|需要|要贷款|办理|需求)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间|没通过|什么没有|啥子没有|啥玩意|有没有)', 'Invite_Credit_Rule_BuXuYao_0': '(申请|需要|要贷款|办理)&(干嘛|干什么)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间)', 'Invite_Credit_Rule_TongXing_0': '(做信用卡|办卡的|办信用卡|是同行|同一个行业|从事办卡|从事信用卡|做这方面|从事这方面)&~(是吗|是吧)', 'Invite_Credit_Rule_KenDing_1': '(嗯|是|对)&~(不|我|额度|年费|浦发|怎么办|你是)', 'Invite_Credit_Rule_KenDing_0': '(有|有的|有了)&~(没|不|年费|额度|礼品)', 'Invite_Credit_Rule_MeiYouWenTi_1': '(!不)&(好|可以|行|照|管|好的|办理|办一个|办一下|想要|想用)&~(你好|您好|那么好|可以借|可以贷|可以吗|可以批|行吗|好吗|好多|没空|发|加|微信|链接|短信|银行|哪一行|什么机构|需要抵押|资料|好像|看一下|看看|事吗|什么程序|什么条件|给你打电话|没需要|就去申请|快一点|额度|利息|怎么办理|我有|申请一下|你妹|证件|能下来多少|再去接|先忙|给电话|有了|做什么的|好吧|记录|知道|手续|需要多少|开车|行业|亿|注销|话费|太少|提前还|申请多少|好久|做好|这么好|好不好|开会|没有兴趣|等一下看|看情况吧|回去再申请|忙|你妈的|理财机构|知道了|没收到|需要|想要|转达|同行|贷多少|不是说|挂掉|什么意思|证明|车辆|忘了|几天|五千万|等我需要|几年级|分期|中行|500万|回去弄|我操|操你|妈的|死|滚蛋|你妈|有病|他妈|鸡|神经病|妈个逼)', 'Invite_Credit_Rule_MeiYouWenTi_0': '(没|没有|没得)&(问题|什么问题|任何问题)&~(你好|您好|再说|再联系|再看|那么好|可以借|可以贷|可以吗|可以批|行吗|好吗|好多|没空|发|加|微信|链接|短信|银行|哪一行|什么机构|需要抵押|资料|好像|再看|再讲|看一下|看看|没时间|再会|再联系|联系|有时间|事吗|什么程序|忙着|什么条件|给你打电话|没需要|就去申请|在上班|快一点|额度|利息|到时候|再弄|一直忙|再聊吧|知道了|以后|怎么办理|我有|申请一下|你妹|证件|能下来多少|再去接|先忙|给电话|有了|做什么的|现在没时间|好吧|记录|知道|手续|需要多少|开车|行业|亿|注销|话费|太少|提前还|申请多少|好久|做好|这么好|好不好|需要的时候|需要用的时候|要用的时候|等我需要|不用|需要|不还|不想|忙|不申请|回去再申请|不缺钱|好申请吗|用不到|不是说|忘了)', 'Invite_Credit_Rule_TongYiPeiHe_0': '(加|发|留|办)&(微信|短信|链接|联系方式|一下|手机|号码|电话|给我|手续)&~(什么|没|不|别|给我发|忙)', 'Invite_Credit_Rule_XuYao_2': '(看看|看一下|看吧|再看)&~(不|没|没有)', 'Invite_Credit_Rule_XuYao_1': '(要|要的|我需要|好巧)&~(不|没|等我需要|没有)', 'Invite_Credit_Rule_XuYao_0': '(有)&(需要|兴趣|想法)&~(不|没|没有)', 'Invite_Credit_Rule_YouShiJian_0': '(方便|有空|有时间)&~(不|没|没有)', 'Invite_Credit_Rule_DaoLe_0': '(明白|知道|了解)&~(不|没|没有)', 'Invite_Credit_Rule_EDu_1': '(额度|金额|20万)&(太小|小|太少|少|不够|太低|低了|低|高)', 'Invite_Credit_Rule_EDu_0': '(能有|额度|能办)&(多少钱|多少)', 'Invite_Credit_Rule_NianLingFanWei_1': '(七八十岁|六七十岁)', 'Invite_Credit_Rule_NianLingFanWei_0': '(年龄|年纪|岁数)&(太大|太小|大)', 'Invite_Credit_Rule_WenGongSi_2': '(什么)&(平台|公司|单位|APP|浦发)', 'Invite_Credit_Rule_WenGongSi_1': '(不清楚|不明白|不知道|不了解|搞不懂|啥)&(哪的|哪里|平台|公司|单位|APP|干啥的|干什么|app|哪方面)', 'Invite_Credit_Rule_WenGongSi_0': '(什么|哪个)&(平台|公司|单位|APP|业务|网|软件|银行)&~(没听清|你|不可靠)', 'Invite_Credit_Rule_ShiShui_0': '(你是|你)&(是谁|哪个|人工|叫啥|人|哪位|机器人|姓名)&~(平台|公司|银行|APP|单位|app|说|城市|地方|贷|打错|骗)', 'Invite_Credit_Rule_ShenQingTiaoJian_0': '(需要|满足|要)&(什么条件)', 'Invite_Credit_Rule_RuHeBanLi_1': '(手机上|APP上|线上|帮)&(办)', 'Invite_Credit_Rule_RuHeBanLi_0': '(怎么|搁哪|去哪)&(申请|办理|操作|弄|办)&~(通过|不了)', 'Invite_Credit_Rule_DianHuaZhiYi_0': '(怎么|哪里|从哪|为啥|哪个|什么渠道|哪个渠道)&(知道|搞到|弄到|得到|晓得|拿到)&(号码|电话|联系方式)', 'Invite_Credit_Rule_MianTan_0': '(电话申请|线上申请|要人工|要去柜台|需要见面签订|是不是需要当面填写资料|需要当面见聊|要去现场|要到网点|电话办|面签|面审)', 'Invite_Credit_Rule_GongSiDiZhi_0': '(你们浦发银行在哪里|在什么位置|在浙江还是广东|怎么去|哪里的浦发银行|在哪里|去银行|地理位置在哪|哪有浦发银行)', 'Invite_Credit_Rule_FuWuFei_0': '(办理信用卡不要钱吗|花钱|要钱|费用|收取服务费|办卡需要手续费|免费申请|收费)', 'Invite_Credit_Rule_NianFei_0': '(免|收取|需要)&(年费)', 'Invite_Credit_Rule_ZhiYiSuoYaoXinXi_0': '(问这个|问这些|了解这个)&(干啥|干什么|做什么|为什么|怎么了)', 'Invite_Credit_Rule_HuoDongYouHui_0': '(活动|优惠|礼品|免费)', 'Invite_Credit_Rule_DuoZhangQia(ZhiShiKu)_0': '(多张|好几张)', 'Invite_Credit_Rule_MeiTongGuo_2': '(申请失败|审核失败|没通过|没有申请通过|申请不到|通不过|申请不了|审核不通过|信用烂了|征信烂了|征信差劲|逾期|没有资格|办不下来|没有办成|没有下来|下不了|不通过|申请不下来|贷不下来|批不下来|没有通过|没通过|不能通过|信用不行|征信不行|不批|拒了|没有批|不放款)&~(骗)', 'Invite_Credit_Rule_MeiTongGuo_1': '(征信|信用度|信用卡)&(不好|不高|不行|逾期|问题)', 'Invite_Credit_Rule_MeiTongGuo_0': '(申请|借|贷|试了|试过|征信|通过|信誉|诚信|信用|下载|审批)&(不下来|不通过|下不来|没额度|没有额度|不过|不成|不批|没有批|不出来|出不来|不成功|不良|不出钱|过不去|不了|不好|不太好|不够)&~(年龄|年纪|岁数|还不了|借口|骗)'}
Credit_Invite_name_weight_dict = {'Invite_Credit_Rule_HeiHu_0': '15', 'Invite_Credit_Rule_KouBeiCha_0': '15', 'Invite_Credit_Rule_YanE_0': '25', 'Invite_Credit_Rule_ZangHuaMaRen_0': '25', 'Invite_Credit_Rule_JuBao_0': '15', 'Invite_Credit_Rule_BuXinRen_0': '10', 'Invite_Credit_Rule_BuXuYao_2': '30', 'Invite_Credit_Rule_BuXuYao_1': '10', 'Invite_Credit_Rule_BuXuYao_0': '10', 'Invite_Credit_Rule_TongXing_0': '10', 'Invite_Credit_Rule_KenDing_1': '10', 'Invite_Credit_Rule_KenDing_0': '15', 'Invite_Credit_Rule_MeiYouWenTi_1': '10', 'Invite_Credit_Rule_MeiYouWenTi_0': '12', 'Invite_Credit_Rule_TongYiPeiHe_0': '15', 'Invite_Credit_Rule_XuYao_2': '15', 'Invite_Credit_Rule_XuYao_1': '5', 'Invite_Credit_Rule_XuYao_0': '10', 'Invite_Credit_Rule_YouShiJian_0': '8', 'Invite_Credit_Rule_DaoLe_0': '8', 'Invite_Credit_Rule_EDu_1': '15', 'Invite_Credit_Rule_EDu_0': '15', 'Invite_Credit_Rule_NianLingFanWei_1': '20', 'Invite_Credit_Rule_NianLingFanWei_0': '20', 'Invite_Credit_Rule_WenGongSi_2': '15', 'Invite_Credit_Rule_WenGongSi_1': '15', 'Invite_Credit_Rule_WenGongSi_0': '15', 'Invite_Credit_Rule_ShiShui_0': '15', 'Invite_Credit_Rule_ShenQingTiaoJian_0': '15', 'Invite_Credit_Rule_RuHeBanLi_1': '20', 'Invite_Credit_Rule_RuHeBanLi_0': '20', 'Invite_Credit_Rule_DianHuaZhiYi_0': '15', 'Invite_Credit_Rule_MianTan_0': '15', 'Invite_Credit_Rule_GongSiDiZhi_0': '15', 'Invite_Credit_Rule_FuWuFei_0': '10', 'Invite_Credit_Rule_NianFei_0': '15', 'Invite_Credit_Rule_ZhiYiSuoYaoXinXi_0': '8', 'Invite_Credit_Rule_HuoDongYouHui_0': '8', 'Invite_Credit_Rule_DuoZhangQia(ZhiShiKu)_0': '10', 'Invite_Credit_Rule_MeiTongGuo_2': '15', 'Invite_Credit_Rule_MeiTongGuo_1': '15', 'Invite_Credit_Rule_MeiTongGuo_0': '25'}
Credit_Invite_ename_cname_dict = {'Invite_Credit_Rule_HeiHu_0': '黑户', 'Invite_Credit_Rule_KouBeiCha_0': '口碑差', 'Invite_Credit_Rule_YanE_0': '厌恶', 'Invite_Credit_Rule_ZangHuaMaRen_0': '脏话骂人', 'Invite_Credit_Rule_JuBao_0': '举报', 'Invite_Credit_Rule_BuXinRen_0': '不信任', 'Invite_Credit_Rule_BuXuYao_2': '不需要', 'Invite_Credit_Rule_BuXuYao_1': '不需要', 'Invite_Credit_Rule_BuXuYao_0': '不需要', 'Invite_Credit_Rule_TongXing_0': '同行', 'Invite_Credit_Rule_KenDing_1': '肯定', 'Invite_Credit_Rule_KenDing_0': '肯定', 'Invite_Credit_Rule_MeiYouWenTi_1': '没有问题', 'Invite_Credit_Rule_MeiYouWenTi_0': '没有问题', 'Invite_Credit_Rule_TongYiPeiHe_0': '同意配合', 'Invite_Credit_Rule_XuYao_2': '需要', 'Invite_Credit_Rule_XuYao_1': '需要', 'Invite_Credit_Rule_XuYao_0': '需要', 'Invite_Credit_Rule_YouShiJian_0': '有时间', 'Invite_Credit_Rule_DaoLe_0': '知道了', 'Invite_Credit_Rule_EDu_1': '额度（知识库）', 'Invite_Credit_Rule_EDu_0': '额度（知识库）', 'Invite_Credit_Rule_NianLingFanWei_1': '年龄范围（知识库）', 'Invite_Credit_Rule_NianLingFanWei_0': '年龄范围（知识库）', 'Invite_Credit_Rule_WenGongSi_2': '问公司（知识库）', 'Invite_Credit_Rule_WenGongSi_1': '问公司（知识库）', 'Invite_Credit_Rule_WenGongSi_0': '问公司（知识库）', 'Invite_Credit_Rule_ShiShui_0': '是谁（知识库）', 'Invite_Credit_Rule_ShenQingTiaoJian_0': '申请条件（知识库）', 'Invite_Credit_Rule_RuHeBanLi_1': '如何办理（知识库）', 'Invite_Credit_Rule_RuHeBanLi_0': '如何办理（知识库）', 'Invite_Credit_Rule_DianHuaZhiYi_0': '电话质疑（知识库）', 'Invite_Credit_Rule_MianTan_0': '面谈（知识库）', 'Invite_Credit_Rule_GongSiDiZhi_0': '公司地址（知识库）', 'Invite_Credit_Rule_FuWuFei_0': '服务费（知识库）', 'Invite_Credit_Rule_NianFei_0': '年费（知识库）', 'Invite_Credit_Rule_ZhiYiSuoYaoXinXi_0': '质疑索要信息（知识库）', 'Invite_Credit_Rule_HuoDongYouHui_0': '活动优惠（知识库）', 'Invite_Credit_Rule_DuoZhangQia(ZhiShiKu)_0': '多张卡(知识库)', 'Invite_Credit_Rule_MeiTongGuo_2': '没通过（知识库）', 'Invite_Credit_Rule_MeiTongGuo_1': '没通过（知识库）', 'Invite_Credit_Rule_MeiTongGuo_0': '没通过（知识库）'}

# 营执时间
Credit_BusinessHours_name_rule_dict = {'BusinessHours_Credit_Rule_HeiHu_0': '(黑户|黑名单)', 'BusinessHours_Credit_Rule_KouBeiCha_0': '(口碑差|骗人|诈骗|骗子|骗我|欺骗|骗来骗去|骗来|诈骗)&~(靠不)', 'BusinessHours_Credit_Rule_YanE_0': '(不用|别|老|不要|再|天天|一直|总是|一天到晚|不停的)&(电话)&~(我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|的时候|到时候|需要时候|晚会|再见|接电话)', 'BusinessHours_Credit_Rule_ZangHuaMaRen_0': '(我操|妈的|死|滚蛋|你妈|你妹|有病|他妈|鸡巴|神经病|妈个逼|脑子有问题|有毒|傻逼)&~(操作)', 'BusinessHours_Credit_Rule_JuBao_0': '(投诉|举报|曝光|报警|110)', 'BusinessHours_Credit_Rule_BuXinRen_0': '(不相信|不信|不会信|不会相信|不可靠)&~(骗|口碑差)', 'BusinessHours_Credit_Rule_BuXuYao_2': '(不需要|不想要|没想要|没想用|不是很需要|没得需要|用不到|不考虑|没考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请)&~(开车|开着车|没时间|没空|骗人|再申请|再办|再搞|在上班|不要老是打电话|怎么借|打电话|打扰|骚扰|忽悠|骗钱|骗子|年纪大|年龄大|申请过|不贷给我|不要还|不用还|不需要还|亿|50万|100万|200万|400万|500万|一千万|1000万|2000万|五千万|打来|借给你|打了|不会弄|百万|抵押|申不申|我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼)', 'BusinessHours_Credit_Rule_BuXuYao_1': '(没说|没有|没)&(申请|需要|要贷款|办理|需求)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间|没通过|什么没有|啥子没有|啥玩意)', 'BusinessHours_Credit_Rule_BuXuYao_0': '(申请|需要|要贷款|办理)&(干嘛|干什么)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间)', 'BusinessHours_Credit_Rule_TongXing_0': '(做信用卡|办卡的|办信用卡|是同行|同一个行业|从事办卡|从事信用卡|做这方面|从事这方面)&~(是吗|是吧)', 'BusinessHours_Credit_Rule_KenDing_1': '(嗯|是|对)&~(不|我)', 'BusinessHours_Credit_Rule_KenDing_0': '(有|有的|有了)&~(没|不)', 'BusinessHours_Credit_Rule_YiNianYiShang_0': '(满了|满一年|差不多|两年了)', 'BusinessHours_Credit_Rule_FouDing_1': '(没|没有|取消|忘记|不知道|没激活)', 'BusinessHours_Credit_Rule_WeiManYiNian_0': '(不到|没有|没)&(一年|半年|三个月|几个月)', 'BusinessHours_Credit_Rule_FouDing_0': '(没有没有)', 'BusinessHours_Credit_Rule_EDu_1': '(额度|金额|20万)&(太小|小|太少|少|不够|太低|低了)', 'BusinessHours_Credit_Rule_EDu_0': '(能有|额度)&(多少钱|多少)', 'BusinessHours_Credit_Rule_NianLingFanWei_1': '(七八十岁|六七十岁)', 'BusinessHours_Credit_Rule_NianLingFanWei_0': '(年龄|年纪|岁数)&(太大|太小|大)', 'BusinessHours_Credit_Rule_WenGongSi_2': '(什么)&(平台|公司|单位|APP|众安)', 'BusinessHours_Credit_Rule_WenGongSi_1': '(不清楚|不明白|不知道|不了解|搞不懂|啥)&(哪的|哪里|平台|公司|单位|APP|干啥的|干什么|app|哪方面)', 'BusinessHours_Credit_Rule_WenGongSi_0': '(什么|哪个)&(平台|公司|单位|APP|业务|网|软件)&~(没听清|你|不可靠)', 'BusinessHours_Credit_Rule_ShiShui_0': '(你是|你)&(是谁|哪个|人工|叫啥|人|哪位|机器人|姓名)&~(平台|公司|银行|APP|单位|app|说|城市|地方|贷|打错|骗)', 'BusinessHours_Credit_Rule_ShenQingTiaoJian_0': '(需要|满足|要)&(什么条件)', 'BusinessHours_Credit_Rule_RuHeBanLi_0': '(怎么|搁哪|去哪)&(申请|办理|操作|弄)&~(通过|不了)', 'BusinessHours_Credit_Rule_DianHuaZhiYi_0': '(怎么|哪里|从哪|为啥|哪个|什么渠道|哪个渠道)&(知道|搞到|弄到|得到|晓得|拿到)&(号码|电话|联系方式)', 'BusinessHours_Credit_Rule_MianTan_0': '(电话申请|线上申请|要人工|要去柜台|需要见面签订|是不是需要当面填写资料|需要当面见聊|要去现场|要到网点|电话办|面签|面审)', 'BusinessHours_Credit_Rule_GongSiDiZhi_0': '(你们浦发银行在哪里|在什么位置|在浙江还是广东|怎么去|哪里的浦发银行|在哪里|去银行|地理位置在哪)', 'BusinessHours_Credit_Rule_FuWuFei_0': '(办理信用卡不要钱吗|花钱|要钱|费用|收取服务费|办卡需要手续费|免费申请|收费)', 'BusinessHours_Credit_Rule_NianFei_0': '(免|收取|需要)&(年费)', 'BusinessHours_Credit_Rule_ZhiYiSuoYaoXinXi_0': '(问这个|问这些|了解这个)&(干啥|干什么|做什么|为什么|怎么了)', 'BusinessHours_Credit_Rule_HuoDongYouHui_0': '(活动|优惠)', 'BusinessHours_Credit_Rule_DuoZhangQia_0': '(多张|好几张)'}
Credit_BusinessHours_name_weight_dict = {'BusinessHours_Credit_Rule_HeiHu_0': '15', 'BusinessHours_Credit_Rule_KouBeiCha_0': '15', 'BusinessHours_Credit_Rule_YanE_0': '25', 'BusinessHours_Credit_Rule_ZangHuaMaRen_0': '25', 'BusinessHours_Credit_Rule_JuBao_0': '15', 'BusinessHours_Credit_Rule_BuXinRen_0': '10', 'BusinessHours_Credit_Rule_BuXuYao_2': '30', 'BusinessHours_Credit_Rule_BuXuYao_1': '10', 'BusinessHours_Credit_Rule_BuXuYao_0': '10', 'BusinessHours_Credit_Rule_TongXing_0': '10', 'BusinessHours_Credit_Rule_KenDing_1': '10', 'BusinessHours_Credit_Rule_KenDing_0': '15', 'BusinessHours_Credit_Rule_YiNianYiShang_0': '5', 'BusinessHours_Credit_Rule_FouDing_1': '20', 'BusinessHours_Credit_Rule_WeiManYiNian_0': '10', 'BusinessHours_Credit_Rule_FouDing_0': '10', 'BusinessHours_Credit_Rule_EDu_1': '15', 'BusinessHours_Credit_Rule_EDu_0': '15', 'BusinessHours_Credit_Rule_NianLingFanWei_1': '20', 'BusinessHours_Credit_Rule_NianLingFanWei_0': '20', 'BusinessHours_Credit_Rule_WenGongSi_2': '15', 'BusinessHours_Credit_Rule_WenGongSi_1': '15', 'BusinessHours_Credit_Rule_WenGongSi_0': '15', 'BusinessHours_Credit_Rule_ShiShui_0': '15', 'BusinessHours_Credit_Rule_ShenQingTiaoJian_0': '15', 'BusinessHours_Credit_Rule_RuHeBanLi_0': '20', 'BusinessHours_Credit_Rule_DianHuaZhiYi_0': '15', 'BusinessHours_Credit_Rule_MianTan_0': '15', 'BusinessHours_Credit_Rule_GongSiDiZhi_0': '10', 'BusinessHours_Credit_Rule_FuWuFei_0': '10', 'BusinessHours_Credit_Rule_NianFei_0': '10', 'BusinessHours_Credit_Rule_ZhiYiSuoYaoXinXi_0': '8', 'BusinessHours_Credit_Rule_HuoDongYouHui_0': '8', 'BusinessHours_Credit_Rule_DuoZhangQia_0': '10'}
Credit_BusinessHours_ename_cname_dict = {'BusinessHours_Credit_Rule_HeiHu_0': '黑户', 'BusinessHours_Credit_Rule_KouBeiCha_0': '口碑差', 'BusinessHours_Credit_Rule_YanE_0': '厌恶', 'BusinessHours_Credit_Rule_ZangHuaMaRen_0': '脏话骂人', 'BusinessHours_Credit_Rule_JuBao_0': '举报', 'BusinessHours_Credit_Rule_BuXinRen_0': '不信任', 'BusinessHours_Credit_Rule_BuXuYao_2': '不需要', 'BusinessHours_Credit_Rule_BuXuYao_1': '不需要', 'BusinessHours_Credit_Rule_BuXuYao_0': '不需要', 'BusinessHours_Credit_Rule_TongXing_0': '同行', 'BusinessHours_Credit_Rule_KenDing_1': '肯定', 'BusinessHours_Credit_Rule_KenDing_0': '肯定', 'BusinessHours_Credit_Rule_YiNianYiShang_0': '一年以上', 'BusinessHours_Credit_Rule_FouDing_1': '否定', 'BusinessHours_Credit_Rule_WeiManYiNian_0': '未满一年', 'BusinessHours_Credit_Rule_FouDing_0': '否定', 'BusinessHours_Credit_Rule_EDu_1': '额度（知识库）', 'BusinessHours_Credit_Rule_EDu_0': '额度（知识库）', 'BusinessHours_Credit_Rule_NianLingFanWei_1': '年龄范围（知识库）', 'BusinessHours_Credit_Rule_NianLingFanWei_0': '年龄范围（知识库）', 'BusinessHours_Credit_Rule_WenGongSi_2': '问公司（知识库）', 'BusinessHours_Credit_Rule_WenGongSi_1': '问公司（知识库）', 'BusinessHours_Credit_Rule_WenGongSi_0': '问公司（知识库）', 'BusinessHours_Credit_Rule_ShiShui_0': '是谁（知识库）', 'BusinessHours_Credit_Rule_ShenQingTiaoJian_0': '申请条件（知识库）', 'BusinessHours_Credit_Rule_RuHeBanLi_0': '如何办理（知识库）', 'BusinessHours_Credit_Rule_DianHuaZhiYi_0': '电话质疑（知识库）', 'BusinessHours_Credit_Rule_MianTan_0': '面谈（知识库）', 'BusinessHours_Credit_Rule_GongSiDiZhi_0': '公司地址（知识库）', 'BusinessHours_Credit_Rule_FuWuFei_0': '服务费（知识库）', 'BusinessHours_Credit_Rule_NianFei_0': '年费（知识库）', 'BusinessHours_Credit_Rule_ZhiYiSuoYaoXinXi_0': '质疑索要信息（知识库）', 'BusinessHours_Credit_Rule_HuoDongYouHui_0': '活动优惠（知识库）', 'BusinessHours_Credit_Rule_DuoZhangQia_0': '多张卡（知识库）'}

# 摘机
Credit_OffHook_name_rule_dict = {'OffHook_Credit_Rule_HeiHu_0': '(黑户|黑名单)', 'OffHook_Credit_Rule_KouBeiCha_0': '(口碑差|骗人|诈骗|骗子|骗我|欺骗|骗来骗去|骗来|诈骗)&~(靠不)', 'OffHook_Credit_Rule_YanE_0': '(别|老|不要|再|天天|一直|总是|一天到晚|不停的)&(电话|调研)&~(我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|的时候|到时候|需要时候|晚会|再见|接电话)', 'OffHook_Credit_Rule_ZangHuaMaRen_0': '(我操|妈的|死|滚蛋|你妈|你妹|有病|他妈|鸡巴|神经病|妈个逼|脑子有问题|有毒|傻逼|放屁|他妈|有病)&~(操作)', 'OffHook_Credit_Rule_JuBao_0': '(投诉|举报|曝光|报警|110)', 'OffHook_Credit_Rule_BuXinRen_0': '(不相信|不信|不会信|不会相信|不可靠)&~(骗|口碑差)', 'OffHook_Credit_Rule_BuXuYao_2': '(不需要|不想要|没想要|没想用|不是很需要|没得需要|用不到|不考虑|没考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不大用|不用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不想|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请)&~(骗人|再申请|再办|再搞|不要老是打电话|怎么借|打电话|打扰|骚扰|忽悠|骗钱|骗子|年纪大|年龄大|申请过|不贷给我|不要还|不用还|不需要还|亿|50万|100万|200万|400万|500万|一千万|1000万|2000万|五千万|打来|借给你|打了|不会弄|百万|抵押|申不申|我操|妈的|死|滚蛋|你妈|有病|他妈|鸡巴|神经病|妈个逼|休息|有事|说)', 'OffHook_Credit_Rule_BuXuYao_1': '(没说|没有|没)&(申请|需要|要贷款|办理|需求)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间|没通过|什么没有|啥子没有|啥玩意)', 'OffHook_Credit_Rule_BuXuYao_0': '(申请|需要|要贷款|办理)&(干嘛|干什么)&~(额度|成功|下来|批|出|征信|信用|没懂|没问题|怎么申请|没有时间|没问题|没时间)', 'OffHook_Credit_Rule_TongXing_0': '(做信用卡|办卡的|办信用卡|同行|同一个行业|从事办卡|从事信用卡|做这方面|从事这方面)&~(是吗|是吧)', 'OffHook_Credit_Rule_KaiCheMang_0': '(在开车|在高速上|开着车|在车上|开车呢|开车|正开车|开着车)&~(再说|再讲|不需要|不是很需要|没得需要|用不到|不考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请|不用)', 'OffHook_Credit_Rule_PuTongMang_0': '(现在忙|正忙|不方便|不太方便|上班|开会|没时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|在外面|没有空)&~(开车|开着车|不需要|不是很需要|没得需要|用不到|不考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请|等他|等她|有事吗|打错了|找错人|打错号码|号码错误|不是本人|打错电话|转达|转告|让他|不用)', 'OffHook_Credit_Rule_YiHouZaiShuo_2': '(看一下|再说|看看|再看|再联系|再会|稍后再打|再试试|看情况|以后再说)&~(开车|发|一遍|一次|额度|忙|有事情|不需要|不是很需要|没得需要|用不到|不考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|不需|多少钱|利息)', 'OffHook_Credit_Rule_YiHouZaiShuo_1': '(等|到时候|到时|的时候|以后|后面|过俩天|过几天|下个月|晚上|回去|明天|晚点)&(需要|有空|一下|一会|看|再弄|再用|再办|去办|再试试|试|打|商量|回复|申请)&~(不需要|不是很需要|没得需要|用不到|不考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|开车|不需|多少钱|在外面|他)', 'OffHook_Credit_Rule_YiHouZaiShuo_0': '(需要)&(再用|再办|再弄|再注册|再找你|再联系|再来|再登录)&~(不需要|不是很需要|没得需要|用不到|不考虑|不贷款|不想贷|不想用|不感兴趣|没兴趣|不办|用不上|用不着|用不到|我有钱|不缺钱|不差钱|借到了|不用|不大用|不怎么用|不想借|不申请|不想申请|不借|不要|不贷|不弄|没有贷|不可能贷|不带|不申请|没弄|不用还|不使用|算了|不缺钱|没有需求|没有兴趣|没有贷款需求|为啥要申请|为什么要申请|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|不需|多少钱|要求)', 'OffHook_Credit_Rule_KenDing_1': '(嗯|对)&~(不|我|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|没|没有|哪个|那个|什么|银行|公司|哪里|吗|哪儿|哪家|浦发|平安|信用卡|单位|怎么了|咋了|干什么|干啥|干嘛|谁|机器人|客服|机器|人工|没|不|一定要|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多|注销|取消)', 'OffHook_Credit_Rule_KenDing_0': '(有|有的|有了)&~(没|不|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|没|没有|哪个|那个|什么|银行|公司|哪里|吗|哪儿|哪家|浦发|平安|信用卡|单位|怎么了|咋了|干什么|干啥|干嘛|谁|机器人|客服|优惠|没|不|一定要|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多|要求|病|注销|取消)', 'OffHook_Credit_Rule_YiYouQia_1': '(申请了|申请过|不是有吗|有信用卡|有别的银行的|有你们的信用卡|激活了)&~(没|不|一定要|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多)', 'OffHook_Credit_Rule_YiYouQia_0': '(有|已经有了|有了)&(招商|浦发|中国|平安|信用卡|银行卡|卡)&~(没|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多|要求|病)', 'OffHook_Credit_Rule_MeiYouQia_0': '(没有|没|没办|没办过)&(卡|信用卡)&~(需要|听清|听懂|问题|听明白|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|不用)', 'OffHook_Credit_Rule_FouDing_2': '(没|没有|没得|取消|忘记|忘了|不知道|没激活|注销|取消|不记得|关了)&~(现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|需要|听清|听懂|问题|听明白|通过|办下来|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|不需|不用|空)', 'OffHook_Credit_Rule_FouDing_1': '(没有没有)&~(现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边|需要|需要|听清|听懂|问题|听明白|通过|办下来|不用|空)', 'OffHook_Credit_Rule_FouDing_0': '(没有)&~(需要|听清|听懂|问题|听明白|不用|空|现在忙|正忙|不方便|不太方便|上班|开会|没时间|没啥时间|没空|没时间|没有时间|在忙|在睡觉|在午休|在午睡|在休息|信号不好|在电梯|信号太差|信号差|信号不好|信号不行|在吃饭|太忙了|挺忙|很忙|忙|现在有事|正在忙|有事|在工作|不得空|刚下班|有点事|忙着|没空|在外边)', 'OffHook_Credit_Rule_EDu_1': '(额度|金额|20万)&(太小|小|太少|少|不够|太低|低了)', 'OffHook_Credit_Rule_EDu_0': '(额度|多少钱)', 'OffHook_Credit_Rule_NianLingFanWei_1': '(七八十岁|六七十岁)', 'OffHook_Credit_Rule_NianLingFanWei_0': '(年龄|年纪|岁数)&(太大|太小|大)', 'OffHook_Credit_Rule_WenGongSi_2': '(什么)&(平台|公司|单位|APP|众安)', 'OffHook_Credit_Rule_WenGongSi_1': '(不清楚|不明白|不知道|不了解|搞不懂|啥)&(哪的|哪里|平台|公司|单位|APP|干啥的|干什么|app|哪方面)', 'OffHook_Credit_Rule_WenGongSi_0': '(什么|哪个|哪家)&(平台|公司|单位|APP|业务|网|软件|中心|银行|信用卡)&~(不可靠)', 'OffHook_Credit_Rule_ShiShui_0': '(你是|你)&(是谁|哪个|人工|叫啥|人|哪位|机器人|姓名)&~(平台|公司|银行|APP|单位|app|说|城市|地方|贷|打错|骗|中心)', 'OffHook_Credit_Rule_ShenQingTiaoJian_0': '(需要|满足|要)&(什么条件)', 'OffHook_Credit_Rule_RuHeBanLi_0': '(怎么|搁哪|去哪)&(申请|办理|操作|弄)&~(通过|不了)', 'OffHook_Credit_Rule_DianHuaZhiYi_0': '(怎么|哪里|从哪|为啥|哪个|什么渠道|哪个渠道)&(知道|搞到|弄到|得到|晓得|拿到)&(号码|电话|联系方式)', 'OffHook_Credit_Rule_MianTan_0': '(电话申请|线上申请|要人工|要去柜台|需要见面签订|是不是需要当面填写资料|需要当面见聊|要去现场|要到网点|电话办|面签|面审)', 'OffHook_Credit_Rule_GongSiDiZhi_0': '(你们浦发银行在哪里|在什么位置|在浙江还是广东|怎么去|哪里的浦发银行|在哪里|去银行|地理位置在哪)', 'OffHook_Credit_Rule_FuWuFei_0': '(办理信用卡不要钱吗|花钱|要钱|费用|收取服务费|办卡需要手续费|免费申请|收费)', 'OffHook_Credit_Rule_NianFei_0': '(免|收取|需要)&(年费)', 'OffHook_Credit_Rule_ZhiYiSuoYaoXinXi_0': '(问这个|问这些|了解这个)&(干啥|干什么|做什么|为什么|怎么了)', 'OffHook_Credit_Rule_HuoDongYouHui_0': '(活动|优惠)', 'OffHook_Credit_Rule_DuoZhangQia_0': '(多张|好几张|三张|多得很|太多|多的|30张|大把|多了|很多|老多|都有|好多张|很多张|好几个|21张|50张|十几二十张|五张|一大堆)&~(没|不|不需要|不要|不用|不想要|不准备|算了|不太用|不太需要|不想|没用|不做|不弄|负债)'}
Credit_OffHook_name_weight_dict = {'OffHook_Credit_Rule_HeiHu_0': '15', 'OffHook_Credit_Rule_KouBeiCha_0': '15', 'OffHook_Credit_Rule_YanE_0': '25', 'OffHook_Credit_Rule_ZangHuaMaRen_0': '25', 'OffHook_Credit_Rule_JuBao_0': '15', 'OffHook_Credit_Rule_BuXinRen_0': '10', 'OffHook_Credit_Rule_BuXuYao_2': '30', 'OffHook_Credit_Rule_BuXuYao_1': '10', 'OffHook_Credit_Rule_BuXuYao_0': '10', 'OffHook_Credit_Rule_TongXing_0': '10', 'OffHook_Credit_Rule_KaiCheMang_0': '25', 'OffHook_Credit_Rule_PuTongMang_0': '25', 'OffHook_Credit_Rule_YiHouZaiShuo_2': '15', 'OffHook_Credit_Rule_YiHouZaiShuo_1': '20', 'OffHook_Credit_Rule_YiHouZaiShuo_0': '20', 'OffHook_Credit_Rule_KenDing_1': '8', 'OffHook_Credit_Rule_KenDing_0': '10', 'OffHook_Credit_Rule_YiYouQia_1': '15', 'OffHook_Credit_Rule_YiYouQia_0': '15', 'OffHook_Credit_Rule_MeiYouQia_0': '18', 'OffHook_Credit_Rule_FouDing_2': '18', 'OffHook_Credit_Rule_FouDing_1': '10', 'OffHook_Credit_Rule_FouDing_0': '3', 'OffHook_Credit_Rule_EDu_1': '15', 'OffHook_Credit_Rule_EDu_0': '15', 'OffHook_Credit_Rule_NianLingFanWei_1': '20', 'OffHook_Credit_Rule_NianLingFanWei_0': '20', 'OffHook_Credit_Rule_WenGongSi_2': '15', 'OffHook_Credit_Rule_WenGongSi_1': '15', 'OffHook_Credit_Rule_WenGongSi_0': '20', 'OffHook_Credit_Rule_ShiShui_0': '15', 'OffHook_Credit_Rule_ShenQingTiaoJian_0': '15', 'OffHook_Credit_Rule_RuHeBanLi_0': '20', 'OffHook_Credit_Rule_DianHuaZhiYi_0': '15', 'OffHook_Credit_Rule_MianTan_0': '15', 'OffHook_Credit_Rule_GongSiDiZhi_0': '10', 'OffHook_Credit_Rule_FuWuFei_0': '10', 'OffHook_Credit_Rule_NianFei_0': '10', 'OffHook_Credit_Rule_ZhiYiSuoYaoXinXi_0': '8', 'OffHook_Credit_Rule_HuoDongYouHui_0': '8', 'OffHook_Credit_Rule_DuoZhangQia_0': '25'}
Credit_OffHook_ename_cname_dict = {'OffHook_Credit_Rule_HeiHu_0': '黑户', 'OffHook_Credit_Rule_KouBeiCha_0': '口碑差', 'OffHook_Credit_Rule_YanE_0': '厌恶', 'OffHook_Credit_Rule_ZangHuaMaRen_0': '脏话骂人', 'OffHook_Credit_Rule_JuBao_0': '举报', 'OffHook_Credit_Rule_BuXinRen_0': '不信任', 'OffHook_Credit_Rule_BuXuYao_2': '不需要', 'OffHook_Credit_Rule_BuXuYao_1': '不需要', 'OffHook_Credit_Rule_BuXuYao_0': '不需要', 'OffHook_Credit_Rule_TongXing_0': '同行', 'OffHook_Credit_Rule_KaiCheMang_0': '开车忙', 'OffHook_Credit_Rule_PuTongMang_0': '普通忙', 'OffHook_Credit_Rule_YiHouZaiShuo_2': '以后再说', 'OffHook_Credit_Rule_YiHouZaiShuo_1': '以后再说', 'OffHook_Credit_Rule_YiHouZaiShuo_0': '以后再说', 'OffHook_Credit_Rule_KenDing_1': '肯定', 'OffHook_Credit_Rule_KenDing_0': '肯定', 'OffHook_Credit_Rule_YiYouQia_1': '已有卡', 'OffHook_Credit_Rule_YiYouQia_0': '已有卡', 'OffHook_Credit_Rule_MeiYouQia_0': '没有卡', 'OffHook_Credit_Rule_FouDing_2': '否定', 'OffHook_Credit_Rule_FouDing_1': '否定', 'OffHook_Credit_Rule_FouDing_0': '否定', 'OffHook_Credit_Rule_EDu_1': '额度（知识库）', 'OffHook_Credit_Rule_EDu_0': '额度（知识库）', 'OffHook_Credit_Rule_NianLingFanWei_1': '年龄范围（知识库）', 'OffHook_Credit_Rule_NianLingFanWei_0': '年龄范围（知识库）', 'OffHook_Credit_Rule_WenGongSi_2': '问公司（知识库）', 'OffHook_Credit_Rule_WenGongSi_1': '问公司（知识库）', 'OffHook_Credit_Rule_WenGongSi_0': '问公司（知识库）', 'OffHook_Credit_Rule_ShiShui_0': '是谁（知识库）', 'OffHook_Credit_Rule_ShenQingTiaoJian_0': '申请条件（知识库）', 'OffHook_Credit_Rule_RuHeBanLi_0': '如何办理（知识库）', 'OffHook_Credit_Rule_DianHuaZhiYi_0': '电话质疑（知识库）', 'OffHook_Credit_Rule_MianTan_0': '面谈（知识库）', 'OffHook_Credit_Rule_GongSiDiZhi_0': '公司地址（知识库）', 'OffHook_Credit_Rule_FuWuFei_0': '服务费（知识库）', 'OffHook_Credit_Rule_NianFei_0': '年费（知识库）', 'OffHook_Credit_Rule_ZhiYiSuoYaoXinXi_0': '质疑索要信息（知识库）', 'OffHook_Credit_Rule_HuoDongYouHui_0': '活动优惠（知识库）', 'OffHook_Credit_Rule_DuoZhangQia_0': '多张卡（知识库）'}

nodename_dict = {"Credit_BWork":Credit_BWork_name_rule_dict,"Credit_OpeningRemarks2":Credit_OpeningRemarks2_name_rule_dict,"Credit_Surname":Credit_Surname_name_rule_dict,"Credit_Education":Credit_Education_name_rule_dict,"Credit_Invite":Credit_Invite_name_rule_dict,"Credit_BusinessHours":Credit_BusinessHours_name_rule_dict,"Credit_OffHook":Credit_OffHook_name_rule_dict}

nodeweight_dict = {"Credit_BWork":Credit_BWork_name_weight_dict,"Credit_OpeningRemarks2":Credit_OpeningRemarks2_name_weight_dict,"Credit_Surname":Credit_Surname_name_weight_dict,"Credit_Education":Credit_Education_name_weight_dict,"Credit_Invite":Credit_Invite_name_weight_dict,"Credit_BusinessHours":Credit_BusinessHours_name_weight_dict,"Credit_OffHook":Credit_OffHook_name_weight_dict}

nodemap_dict = {"Credit_BWork":Credit_BWork_ename_cname_dict,"Credit_OpeningRemarks2":Credit_OpeningRemarks2_ename_cname_dict,"Credit_Surname":Credit_Surname_ename_cname_dict,"Credit_Education":Credit_Education_ename_cname_dict,"Credit_Invite":Credit_Invite_ename_cname_dict,"Credit_BusinessHours":Credit_BusinessHours_ename_cname_dict,"Credit_OffHook":Credit_OffHook_ename_cname_dict}

# def KeyWord_Sort_V1(query):
#     import jieba
#     # 关键词query对应每个关键词节点命中的情况
#     keyword_intent_list = []
#     keyword_ishit_list = []
#     keyword_hitwordcnt_list = []
#     keyword_unhitwordcnt_list = [] 
#     for key,value in name_rule_dict.items():
#         matcher_bool,prefix_matcher_str_list,suffix_matcher_str_list,human_str_list = KeyWordMatcher(human_str=jieba.lcut(query),regex_str=value)
#         keyword_intent_list.append(ename_cname_dict.get(key))
#         keyword_ishit_list.append(matcher_bool)
#         keyword_hitwordcnt_list.append(len(prefix_matcher_str_list))
#         keyword_unhitwordcnt_list.append(len(suffix_matcher_str_list))
#     return pd.DataFrame({"intent":keyword_intent_list,"ishit":keyword_ishit_list,"hitwordcnt":keyword_hitwordcnt_list,"unhitwordcnt":keyword_unhitwordcnt_list})

# def KeyWord_Sort_RDG(query):
#     import jieba
#     # 关键词query对应每个关键词节点命中的情况
#     keyword_intent_list = []
#     keyword_ishit_list = []
#     keyword_hitwordcnt_list = []
#     keyword_unhitwordcnt_list = [] 
#     for key,value in name_rule_dict.items():
#         matcher_bool,prefix_matcher_str_list,suffix_matcher_str_list,human_str_list,prefix_matcher_str_len = KeyWordMatcher(human_str=query,regex_str=value)
#         keyword_intent_list.append(ename_cname_dict.get(key))
#         keyword_ishit_list.append(matcher_bool)
#         keyword_hitwordcnt_list.append(len(prefix_matcher_str_list))
#         keyword_unhitwordcnt_list.append(len(suffix_matcher_str_list))
#     return pd.DataFrame({"intent":keyword_intent_list,"ishit":keyword_ishit_list,"hitwordcnt":keyword_hitwordcnt_list,"unhitwordcnt":keyword_unhitwordcnt_list})
# 通过正则算法过滤文本中的非法字符
import re
def clean(sent, sep='<'):
    sent = re.sub(r"[\s+\.\!\/_,$%^*(+\"\')]+|[+——()?【】“”！，。？、~@#￥%……&*（）]+","", sent)
    i = 0
    tmp = []
    while i < len(sent):
        if sent[i] != sep:
            tmp.append(sent[i])
            i += 1
        else:
            tmp.append(sent[i:i + 5])
            i += 5
    return "".join(tmp)

if __name__ == '__main__':
    # node_name = "Credit_BWork"
    # for key,value in nodename_dict[node_name].items():
    #     print("key:{},value:{}".format(key,value))
    # print(nodemap_dict[node_name].get("BWork_Credit_Rule_HeiHu_0"))
    # print(nodeweight_dict[node_name].get("BWork_Credit_Rule_HeiHu_0"))
    query = "哎呀，回头再说吧，但我那个我那个叫什么信誉不是很好哈"
    query = clean(query)
    node_name = "邀约"
    for key,value in Credit_Invite_name_rule_dict.items():
        matcher_bool,prefix_matcher_str_list,suffix_matcher_str_list,human_str_list,prefix_matcher_str_len = KeyWordMatcher(human_str = query,regex_str = value)